(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81083,e=>{"use strict";e.s(["default",()=>ne],81083);var t,a,n,i,s,r,o,l,c,d,u,h,g,p,y,f,m,v,w=e.i(13449),b=e.i(5547),_=e.i(25122),T=e.i(63379),P=Object.defineProperty;((e,t)=>{for(var a in t)P(e,a,{get:t[a],enumerable:!0})})({},{CannotFindTransaction:()=>ey,CertificateSignatureMismatch:()=>N,ContractCallError:()=>H,ContractDeploymentFailed:()=>O,HttpNetworkError:()=>q,InvalidAbiDataToEncodeOrDecode:()=>B,InvalidAbiItem:()=>S,InvalidAbiSignatureFormat:()=>E,InvalidAddress:()=>M,InvalidBloom:()=>A,InvalidBloomParams:()=>R,InvalidCommandLineArguments:()=>es,InvalidConfigurationFile:()=>eo,InvalidConfigurationFilePath:()=>er,InvalidDataType:()=>U,InvalidHDKey:()=>G,InvalidHDKeyMnemonic:()=>D,InvalidHTTPParams:()=>V,InvalidHTTPRequest:()=>L,InvalidKeystore:()=>K,InvalidKeystoreParams:()=>W,InvalidOperation:()=>em,InvalidRLP:()=>ei,InvalidSecp256k1MessageHash:()=>ec,InvalidSecp256k1PrivateKey:()=>el,InvalidSecp256k1Signature:()=>ed,InvalidTransactionField:()=>eg,InvalidTransactionType:()=>ef,JSONRPCInternalError:()=>$,JSONRPCInvalidDefaultBlock:()=>ee,JSONRPCInvalidParams:()=>X,JSONRPCInvalidRequest:()=>Y,JSONRPCMethodNotFound:()=>Z,JSONRPCMethodNotImplemented:()=>ea,JSONRPCParseError:()=>z,JSONRPCProviderError:()=>J,JSONRPCServerError:()=>et,JSONRPCTransactionRevertError:()=>en,NotDelegatedTransaction:()=>ep,PollExecution:()=>j,ProviderMethodError:()=>Q,SignerMethodError:()=>eu,UnavailableTransactionField:()=>eh,UnsupportedOperation:()=>F,VechainSDKError:()=>C,assertInnerError:()=>I,createErrorMessage:()=>x,stringifyData:()=>k});var k=e=>JSON.stringify(e,(()=>{let e=new WeakSet;return(t,a)=>{if("object"==typeof a&&null!==a&&""!==t){if(e.has(a))return;e.add(a)}return"bigint"==typeof a?a.toString()+"n":a}})(),2);function I(e){return e instanceof Error?e:Error("Inner error is not an instance of Error. Object:\n	".concat(k(e)))}function x(e,t,a,n){let i=(null==n?void 0:n.message)!==void 0?"\n-Internal error: \n	".concat(n.message):"";return"Method '".concat(e,"' failed.\n-Reason: '").concat(t,"'\n-Parameters: \n	").concat(k(a))+i}var C=class extends Error{constructor(e,t,a,n){super(x(e,t,a,void 0===n?void 0:I(n))),this.methodName=e,this.errorMessage=t,this.data=a,this.innerError=n}},B=class extends C{},S=class extends C{},E=class extends C{},M=class extends C{},A=class extends C{},R=class extends C{},N=class extends C{},O=class extends C{},H=class extends C{},U=class extends C{},F=class extends C{},D=class extends C{},G=class extends C{},L=class extends C{},V=class extends C{},q=class extends C{},K=class extends C{},W=class extends C{},j=class extends C{},Q=class extends C{},J=class extends C{constructor(e,t,a,n,i){super(e,a,{code:t,message:a,data:n},i),this.methodName=e,this.innerError=i}},z=class extends J{constructor(e,t,a,n){super(e,-32700,t,a,n),this.methodName=e,this.innerError=n}},Y=class extends J{constructor(e,t,a,n){super(e,-32600,t,a,n),this.methodName=e,this.innerError=n}},Z=class extends J{constructor(e,t,a,n){super(e,-32601,t,a,n),this.methodName=e,this.innerError=n}},X=class extends J{constructor(e,t,a,n){super(e,-32602,t,a,n),this.methodName=e,this.innerError=n}},$=class extends J{constructor(e,t,a,n){super(e,-32603,t,a,n),this.methodName=e,this.innerError=n}},ee=class extends C{},et=class extends J{constructor(e,t,a,n){super(e,-32e3,t,a,n),this.methodName=e,this.innerError=n}},ea=class extends J{constructor(e,t,a,n){super(e,-32004,t,a,n),this.methodName=e,this.innerError=n}},en=class extends Error{constructor(e,t){super(e||"execution reverted"),(0,T._)(this,"code",void 0),(0,T._)(this,"data",void 0),(0,T._)(this,"message",void 0),this.message=e,this.name="JSONRPCTransactionRevertError",this.code=-32e3,this.data=t,Object.setPrototypeOf(this,new.target.prototype)}},ei=class extends C{},es=class extends C{},er=class extends C{},eo=class extends C{},el=class extends C{},ec=class extends C{},ed=class extends C{},eu=class extends C{},eh=class extends C{},eg=class extends C{},ep=class extends C{},ey=class extends C{},ef=class extends C{},em=class extends C{},ev=e.i(83913),ew=e.i(82875),eb=e.i(76805),e_=e.i(95777),eT=e.i(31412),eP=e.i(450),ek=e.i(29226),eI=e.i(23656),ex=Object.defineProperty;((e,t)=>{for(var a in t)ex(e,a,{get:t[a],enumerable:!0})})({},{AccountDetail:()=>eO,AccountsModule:()=>e2,BUILT_IN_CONTRACTS:()=>eH,BlocksModule:()=>e3,CHAIN_ID:()=>tC,CHAIN_TAG:()=>tB,Contract:()=>te,ContractFactory:()=>tt,ContractsModule:()=>ta,DebugModule:()=>tn,DefaultBlockToRevision:()=>tx,DelegationHandler:()=>tg,ERROR_SELECTOR:()=>eG,ForkDetector:()=>tf,GasModule:()=>ti,HTTPS_REGEX:()=>eF,HTTP_REGEX:()=>eU,HardhatVeChainProvider:()=>aH,HttpMethod:()=>eC,JSONRPCEthersProvider:()=>tP,LogsModule:()=>ts,MAINNET_URL:()=>eV,NODE_HEALTHCHECK_TOLERANCE_IN_SECONDS:()=>eD,NodesModule:()=>to,PANIC_SELECTOR:()=>eL,POLLING_INTERVAL:()=>tk,Poll:()=>ez,ProviderInternalBaseWallet:()=>t_,ProviderInternalHDWallet:()=>tT,RPCMethodsMap:()=>aN,RPC_DOCUMENTATION_URL:()=>eW,RPC_METHODS:()=>eN,SimpleHttpClient:()=>eA,TESTNET_URL:()=>eq,THOR_SOLO_URL:()=>eK,ThorClient:()=>tm,TransactionsModule:()=>tu,VeChainAbstractSigner:()=>tv,VeChainPrivateKeySigner:()=>tw,VeChainProvider:()=>aO,blocksFormatter:()=>tO,buildQuery:()=>ej,chainTagToChainId:()=>tS,debugFormatter:()=>tU,debugTraceBlockByHash:()=>tY,debugTraceBlockByNumber:()=>tX,debugTraceCall:()=>t$,debugTraceTransaction:()=>tJ,engineGetPayloadBodiesByHashV1:()=>t0,engineGetPayloadBodiesByRangeV1:()=>t1,ethAccounts:()=>t2,ethBlockNumber:()=>t3,ethCall:()=>t6,ethChainId:()=>tK,ethEstimateGas:()=>t5,ethFeeHistory:()=>t4,ethGasPrice:()=>t8,ethGetBalance:()=>t9,ethGetBlockByHash:()=>tz,ethGetBlockByNumber:()=>tZ,ethGetBlockReceipts:()=>t7,ethGetBlockTransactionCountByHash:()=>ae,ethGetBlockTransactionCountByNumber:()=>at,ethGetCode:()=>aa,ethGetFilterChanges:()=>an,ethGetFilterLogs:()=>ai,ethGetLogs:()=>as,ethGetStorageAt:()=>ar,ethGetTransactionByBlockHashAndIndex:()=>al,ethGetTransactionByBlockNumberAndIndex:()=>ac,ethGetTransactionByHash:()=>ao,ethGetTransactionCount:()=>ad,ethGetTransactionReceipt:()=>tQ,ethGetUncleByBlockHashAndIndex:()=>au,ethGetUncleByBlockNumberAndIndex:()=>ah,ethGetUncleCountByBlockHash:()=>ag,ethGetUncleCountByBlockNumber:()=>ap,ethMaxPriorityFeePerGas:()=>ay,ethRequestAccounts:()=>af,ethSendRawTransaction:()=>am,ethSendTransaction:()=>av,ethSignTransaction:()=>aw,ethSignTypedDataV4:()=>ab,ethSubscribe:()=>a_,ethSyncing:()=>aT,ethUnsubscribe:()=>aP,evmMine:()=>ak,formatToLogsRPC:()=>tF,formatToRPCStandard:()=>tH,getCachedChainId:()=>tW,getCachedChainTag:()=>tj,getCriteriaSetForInput:()=>tD,getNumberOfLogsAheadOfTransactionIntoBlockExpanded:()=>tM,getTransactionIndexIntoBlock:()=>tE,isTraceEnabled:()=>eB,logError:()=>eM,logRequest:()=>eS,logResponse:()=>eE,netListening:()=>aI,netPeerCount:()=>ax,netVersion:()=>aC,sanitizeWebsocketBaseURL:()=>eZ,signerUtils:()=>eR,subscriptions:()=>e$,thorest:()=>eX,toQueryString:()=>eY,transactionsFormatter:()=>tN,txPoolContent:()=>aB,txPoolContentFrom:()=>aS,txPoolInspect:()=>aE,txPoolStatus:()=>aM,vnsUtils:()=>e1,web3ClientVersion:()=>aA,web3Sha3:()=>aR});var eC=(e=>(e.GET="GET",e.POST="POST",e))(eC||{}),eB=()=>{var e,t,a;let n=null==(a=_.default)||null==(t=a.env)||null==(e=t.SDK_TRACE)?void 0:e.toLowerCase();return"true"===n||"1"===n},eS=(e,t,a,n)=>{if(!eB())return Date.now();let i=Date.now();if(console.log("\nâš¡ [TRACE] HTTP Request (".concat(new Date(i).toISOString(),")")),console.log("âž¡ï¸ ".concat(JSON.stringify({category:"HTTP Request",method:e,url:t,requestHeaders:a,requestBody:n,timestamp:i},null,2))),null!=a&&Object.keys(a).length>0&&(console.log("ðŸ“‹ Headers:"),Object.entries(a).forEach(e=>{let[t,a]=e;console.log("   ".concat(t,": ").concat(a))})),void 0!==n){console.log("ðŸ“¦ Body:");try{console.log("string"==typeof n?n:JSON.stringify(n,null,2))}catch(e){console.log("[Complex body object]")}}return i},eE=(e,t,a,n)=>{if(!eB())return;let i=Date.now(),s=i-e;if(console.log("\nâš¡ [TRACE] HTTP Response (".concat(new Date(i).toISOString(),")")),console.log("âž¡ï¸ ".concat(JSON.stringify({category:"HTTP Response",url:t,responseHeaders:a,responseBody:n,timestamp:i,duration:s},null,2))),console.log("â¬…ï¸ ".concat(t," (").concat(s,"ms)")),null!=a&&Object.keys(a).length>0&&(console.log("ðŸ“‹ Headers:"),Object.entries(a).forEach(e=>{let[t,a]=e;console.log("   ".concat(t,": ").concat(a))})),null!==n){console.log("ðŸ“¦ Body:");try{console.log("string"==typeof n?n:JSON.stringify(n,null,2))}catch(e){console.log("[Complex response body]")}}},eM=(e,t,a,n)=>{if(!eB())return;let i=Date.now(),s=i-e;console.log("\nâš¡ [TRACE] HTTP Error (".concat(new Date(i).toISOString(),")")),console.log("âž¡ï¸ ".concat(JSON.stringify({category:"HTTP Error",method:a,url:t,error:n,timestamp:i,duration:s},null,2))),console.log("âŒ ".concat(a," ").concat(t," (").concat(s,"ms)")),console.log("â›” Error:"),null!=n&&n instanceof Error?(console.log("   ".concat(n.name,": ").concat(n.message)),null!=n.stack&&console.log("   Stack: ".concat(n.stack)),"cause"in n&&null!=n.cause&&(console.log("   Cause:"),console.log(n.cause))):console.log(n)},eA=(t=class e{async get(e,t){return await this.http("GET",e,t)}isValidUrl(e){try{return new URL(e),!0}catch(e){return!1}}async http(e,t,a){let n=new AbortController,i=setTimeout(()=>{n.abort()},this.timeout),s,r=Date.now(),o={};try{let i;t.startsWith("/")&&(t=t.slice(1));let u=this.baseURL;u.endsWith("/")||(u+="/"),s=/^https?:\/\//.exec(t)?new URL(t):new URL(t,u),(null==a?void 0:a.query)&&void 0!==s&&Object.entries(a.query).forEach(e=>{let[t,a]=e;s.searchParams.append(t,String(a))}),(null==a?void 0:a.query)!==void 0&&(null==a?void 0:a.query)!=null&&void 0!==s&&Object.entries(a.query).forEach(e=>{let[t,a]=e;s.searchParams.append(t,String(a))});let h=new Headers(this.headers);(null==a?void 0:a.headers)!==void 0&&(null==a?void 0:a.headers)!=null&&Object.entries(a.headers).forEach(e=>{let[t,a]=e;h.append(t,String(a))}),o=Object.fromEntries(h.entries()),r=eS(e,s.toString(),o,"GET"!==e?null==a?void 0:a.body:void 0);let g=await fetch(s.toString(),{method:e,headers:h,body:"GET"!==e?(null==a?void 0:a.rawBody)!==void 0?a.rawBody:JSON.stringify(null==a?void 0:a.body):void 0,signal:n.signal}),p=Object.fromEntries(g.headers.entries());if(g.ok){(null==a?void 0:a.validateResponseHeader)!=null&&null!=p&&a.validateResponseHeader(p);let e=await g.json();return eE(r,s.toString(),p,e),e}try{i=await g.clone().text()}catch(e){i=void 0}let y="HTTP ".concat(g.status," ").concat(g.statusText);if(null==i?void 0:i.trim()){let e=i.trim();if(!e.includes("<!DOCTYPE html>")){if(e.startsWith("{")||e.startsWith("["))try{let t=JSON.parse(e);if(t.error&&"object"==typeof t.error&&null!==t.error){var l,c,d;let e=t.error,a=null!=(l=e.code)?l:"",n=null!=(d=null!=(c=e.message)?c:e.msg)?d:"";a&&(y+=" [".concat(a,"]")),n&&(y+=" - ".concat(n));let i=e.data;i&&"string"==typeof i&&i.trim()&&(y+=" (".concat(i,")"))}}catch(e){}else if(!e.includes("<!DOCTYPE html>")){let t=e.split("\n")[0].trim();if(t.includes(": ")){let[e,a]=t.split(": ",2);e&&a?y+=" - ".concat(e,": ").concat(a):y+=" - ".concat(t)}else t.includes(" - "),y+=" - ".concat(t)}}}throw Error(y,{cause:g})}catch(a){if(s){let t=s.toString();throw eM(r,t,e,a),a instanceof TypeError?new q("HttpClient.http()",a.message,{method:e,url:t,networkErrorType:"TypeError"},a):new L("HttpClient.http()",a.message,{method:e,url:t},a)}{let n=this.isValidUrl(this.baseURL)?new URL(t,this.baseURL).toString():t;throw new V("HttpClient.http()",a.message,{method:e,url:n},a)}}finally{clearTimeout(i)}}async post(e,t){return await this.http("POST",e,t)}constructor(t,a=new Headers,n=e.DEFAULT_TIMEOUT){(0,T._)(this,"baseURL",void 0),(0,T._)(this,"headers",void 0),(0,T._)(this,"timeout",void 0),this.baseURL=t,this.timeout=n,this.headers=a}},(0,T._)(t,"DEFAULT_TIMEOUT",1e4),t),eR={transactionBodyToTransactionRequestInput:function(e,t){var a,n,i;if(void 0!==e.nonce&&("string"==typeof e.nonce?parseInt(e.nonce,10):e.nonce)<0)throw Error("Transaction nonce must be a positive number");return{from:t,chainTag:e.chainTag,blockRef:e.blockRef,expiration:e.expiration,clauses:e.clauses,gasPriceCoef:e.gasPriceCoef,gas:e.gas,dependsOn:null!=(a=e.dependsOn)?a:void 0,nonce:e.nonce,reserved:e.reserved,maxPriorityFeePerGas:null!=(n=e.maxPriorityFeePerGas)?n:void 0,maxFeePerGas:null!=(i=e.maxFeePerGas)?i:void 0}}},eN=(e=>(e.eth_blockNumber="eth_blockNumber",e.eth_chainId="eth_chainId",e.eth_getBalance="eth_getBalance",e.eth_getCode="eth_getCode",e.eth_getStorageAt="eth_getStorageAt",e.eth_estimateGas="eth_estimateGas",e.eth_call="eth_call",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_getLogs="eth_getLogs",e.eth_getBlockByHash="eth_getBlockByHash",e.eth_getBlockByNumber="eth_getBlockByNumber",e.eth_accounts="eth_accounts",e.eth_requestAccounts="eth_requestAccounts",e.eth_gasPrice="eth_gasPrice",e.eth_getTransactionByHash="eth_getTransactionByHash",e.eth_getTransactionCount="eth_getTransactionCount",e.eth_getTransactionReceipt="eth_getTransactionReceipt",e.eth_getTransactionByBlockNumberAndIndex="eth_getTransactionByBlockNumberAndIndex",e.eth_getTransactionByBlockHashAndIndex="eth_getTransactionByBlockHashAndIndex",e.eth_getBlockTransactionCountByHash="eth_getBlockTransactionCountByHash",e.eth_getBlockTransactionCountByNumber="eth_getBlockTransactionCountByNumber",e.eth_sendTransaction="eth_sendTransaction",e.eth_syncing="eth_syncing",e.net_version="net_version",e.web3_clientVersion="web3_clientVersion",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.debug_traceTransaction="debug_traceTransaction",e.debug_traceCall="debug_traceCall",e.evm_mine="evm_mine",e.evm_increaseTime="evm_increaseTime",e.web3_sha3="web3_sha3",e.net_peerCount="net_peerCount",e.net_listening="net_listening",e.eth_getUncleByBlockNumberAndIndex="eth_getUncleByBlockNumberAndIndex",e.eth_getUncleByBlockHashAndIndex="eth_getUncleByBlockHashAndIndex",e.txpool_inspect="txpool_inspect",e.txpool_contentFrom="txpool_contentFrom",e.txpool_content="txpool_content",e.txpool_status="txpool_status",e.eth_signTransaction="eth_signTransaction",e.debug_traceBlockByHash="debug_traceBlockByHash",e.debug_traceBlockByNumber="debug_traceBlockByNumber",e.eth_getUncleCountByBlockHash="eth_getUncleCountByBlockHash",e.eth_getUncleCountByBlockNumber="eth_getUncleCountByBlockNumber",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_getBlockReceipts="eth_getBlockReceipts",e.eth_coinbase="eth_coinbase",e.eth_feeHistory="eth_feeHistory",e.eth_getWork="eth_getWork",e.eth_mining="eth_mining",e.eth_hashrate="eth_hashrate",e.eth_protocolVersion="eth_protocolVersion",e.eth_sign="eth_sign",e.eth_submitWork="eth_submitWork",e.parity_nextNonce="parity_nextNonce",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterLogs="eth_getFilterLogs",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_uninstallFilter="eth_uninstallFilter",e.debug_getBadBlocks="debug_getBadBlocks",e.debug_getRawBlock="debug_getRawBlock",e.debug_getRawHeader="debug_getRawHeader",e.debug_getRawReceipts="debug_getRawReceipts",e.debug_getRawTransaction="debug_getRawTransaction",e.engine_exchangeCapabilities="engine_exchangeCapabilities",e.engine_exchangeTransitionConfigurationV1="engine_exchangeTransitionConfigurationV1",e.engine_forkchoiceUpdatedV1="engine_forkchoiceUpdatedV1",e.engine_forkchoiceUpdatedV2="engine_forkchoiceUpdatedV2",e.engine_forkchoiceUpdatedV3="engine_forkchoiceUpdatedV3",e.engine_getPayloadBodiesByHashV1="engine_getPayloadBodiesByHashV1",e.engine_getPayloadBodiesByRangeV1="engine_getPayloadBodiesByRangeV1",e.engine_getPayloadV1="engine_getPayloadV1",e.engine_getPayloadV2="engine_getPayloadV2",e.engine_getPayloadV3="engine_getPayloadV3",e.engine_newPayloadV1="engine_newPayloadV1",e.engine_newPayloadV2="engine_newPayloadV2",e.engine_newPayloadV3="engine_newPayloadV3",e.eth_createAccessList="eth_createAccessList",e.eth_getProof="eth_getProof",e.eth_maxPriorityFeePerGas="eth_maxPriorityFeePerGas",e))(eN||{}),eO=class{get vet(){return ev.VET.of(ev.Units.formatEther(ev.FixedPointNumber.of(this.balance)))}get vtho(){return ev.VTHO.of(ev.Units.formatEther(ev.FixedPointNumber.of(this.energy)))}constructor(e){(0,T._)(this,"balance",void 0),(0,T._)(this,"energy",void 0),(0,T._)(this,"hasCode",void 0),this.balance=e.balance,this.energy=e.energy,this.hasCode=e.hasCode}},eH={PARAMS_ABI:[{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_value",type:"uint256"}],name:"set",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"get",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"executor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Set",type:"event"}],PARAMS_ADDRESS:"0x0000000000000000000000000000506172616d73",ENERGY_ABI:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"move",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalBurned",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],ENERGY_ADDRESS:"0x0000000000000000000000000000456e65726779"},eU=/^http:\/\//,eF=/^https:\/\//,eD=30,eG=ev.Keccak256.of(ev.Txt.of("Error(string)").bytes).toString().slice(0,10),eL=ev.Keccak256.of(ev.Txt.of("Panic(uint256)").bytes).toString().slice(0,10),eV="https://mainnet.vechain.org",eq="https://testnet.vechain.org",eK="http://127.0.0.1:8669",eW="https://ethereum.github.io/execution-apis/api-documentation/",ej=e=>{let t={};for(let a in e)void 0!==e[a]&&(t[a]=e[a]);return t};async function eQ(e){await new Promise(t=>setTimeout(t,e))}var eJ=class extends ew.EventEmitter{get getCurrentIteration(){return this.currentIteration}async _intervalLoop(){try{let e=await this.pollingFunction();this.emit("data",{data:e,eventPoll:this})}catch(e){e instanceof q?(console.warn("Network error during polling, continuing:",e.message),this.emit("error",{error:e})):(this.error=new j("EventPoll - main interval loop function","Error during the execution of the poll ".concat(e.message),{functionName:this.pollingFunction.name}),this.emit("error",{error:this.error})),this.hasToStopOnError&&this.stopListen()}this.currentIteration=this.currentIteration+1}onData(e){return this.on("data",t=>{e(t.data,t.eventPoll)}),this}onError(e){return this.on("error",t=>{e(t.error)}),this}onStart(e){return this.on("start",t=>{e(t.eventPoll)}),this}onStop(e){return this.on("stop",t=>{e(t.eventPoll)}),this}startListen(){this.emit("start",{eventPoll:this}),this._intervalLoop().then(()=>{this.intervalId=setInterval(()=>{(async()=>{try{await this._intervalLoop()}catch(e){console.error("EventPoll interval error:",e),this.hasToStopOnError&&this.stopListen()}})()},this.requestIntervalInMilliseconds)})}stopListen(){clearInterval(this.intervalId),this.emit("stop",{eventPoll:this})}constructor(e,t,a){if(super(),(0,T._)(this,"currentIteration",0),(0,T._)(this,"error",void 0),(0,T._)(this,"hasToStopOnError",void 0),(0,T._)(this,"intervalId",void 0),(0,T._)(this,"pollingFunction",void 0),(0,T._)(this,"requestIntervalInMilliseconds",void 0),this.pollingFunction=e,this.hasToStopOnError=a,void 0!==t&&(t<=0||!Number.isInteger(t)))throw new U("SyncPoll()",'Polling failed: Invalid input for field "options?.maximumWaitingTimeInMilliseconds" it must be a positive number',{requestIntervalInMilliseconds:t});this.requestIntervalInMilliseconds=t}},ez={SyncPoll:function(e,t){if((null==t?void 0:t.requestIntervalInMilliseconds)!==void 0&&(t.requestIntervalInMilliseconds<=0||!Number.isInteger(t.requestIntervalInMilliseconds)))throw new U("SyncPoll()",'Polling failed: Invalid input for field "options?.requestIntervalInMilliseconds" it must be a positive number',{requestIntervalInMilliseconds:t.requestIntervalInMilliseconds});if((null==t?void 0:t.maximumIterations)!==void 0&&(t.maximumIterations<=0||!Number.isInteger(t.maximumIterations)))throw new U("SyncPoll()",'Polling failed: Invalid input for field "options?.maximumIterations" it must be a positive number',{maximumIterations:t.maximumIterations});if((null==t?void 0:t.maximumWaitingTimeInMilliseconds)!==void 0&&(t.maximumWaitingTimeInMilliseconds<=0||!Number.isInteger(t.maximumWaitingTimeInMilliseconds)))throw new U("SyncPoll()",'Polling failed: Invalid input for field "options?.maximumWaitingTimeInMilliseconds" it must be a positive number',{maximumWaitingTimeInMilliseconds:t.maximumWaitingTimeInMilliseconds});let a=0,n,i=!1,s=Date.now();return{waitUntil:async r=>{let o=0,l=!1;try{do{var c,d;try{if(n=await e(),o=0,l=r(n))break}catch(a){if(a instanceof q){if(++o>=10)throw new j("SyncPoll.waitUntil()","Polling failed: Too many consecutive network errors.",{functionName:e.name},a);await eQ(null!=(c=null==t?void 0:t.requestIntervalInMilliseconds)?c:1e3);continue}throw a}await eQ(null!=(d=null==t?void 0:t.requestIntervalInMilliseconds)?d:1e3),a+=1;let u=(null==t?void 0:t.maximumIterations)!==void 0?a>=t.maximumIterations:a>=1e3,h=(null==t?void 0:t.maximumWaitingTimeInMilliseconds)!==void 0&&Date.now()-s>=t.maximumWaitingTimeInMilliseconds;if(i=!(l||u||h),a>=1e3)throw new j("SyncPoll.waitUntil()","Polling failed: Maximum safe iterations reached.",{functionName:e.name})}while(i)return n}catch(t){throw new j("SyncPoll.waitUntil()","Polling failed: Function execution error encountered during synchronous polling.",{functionName:e.name},t)}}}},createEventPoll:function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return new eJ(e,t,a)}},eY=e=>{let t=Object.entries(e).filter(e=>{let[,t]=e;return void 0!==t}).map(e=>{let[t,a]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(a))});return t.length>0?"?".concat(t.join("&")):""},eZ=e=>{e=e.trim();let t=/^(https?:\/\/)([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*)(:\d+)?\/?$/;if(!t.test(e))throw new U("sanitizeWebsocketBaseURL()","Invalid url: ".concat(e,". Must adhere to the regex: ").concat(t,"."),{url:e,urlRegex:t});return e=e.replace(/\/$/,""),e=null!==eU.exec(e)?e.replace(eU,"ws://"):e.replace(eF,"wss://")},eX={accounts:{get:{ACCOUNT_DETAIL:e=>"/accounts/".concat(e),ACCOUNT_BYTECODE:e=>"/accounts/".concat(e,"/code"),STORAGE_AT:(e,t)=>"/accounts/".concat(e,"/storage/").concat(t)},post:{SIMULATE_TRANSACTION:e=>null!=e?"/accounts/*?revision=".concat(e):"/accounts/*"}},blocks:{get:{BLOCK_DETAIL:e=>"/blocks/".concat(e)}},nodes:{get:{NODES:()=>"/node/network/peers"}},logs:{post:{EVENT_LOGS:()=>"/logs/event",TRANSFER_LOGS:()=>"/logs/transfer"}},transactions:{get:{TRANSACTION:e=>"/transactions/".concat(e),TRANSACTION_RECEIPT:e=>"/transactions/".concat(e,"/receipt")},post:{TRANSACTION:()=>"/transactions"}},subscriptions:{get:{BLOCK:(e,t)=>{let a=eY({pos:t});return"".concat(eZ(e),"/subscriptions/block").concat(a)},EVENT:(e,t)=>{let a=eY({pos:null==t?void 0:t.position,addr:null==t?void 0:t.contractAddress,t0:null==t?void 0:t.topic0,t1:null==t?void 0:t.topic1,t2:null==t?void 0:t.topic2,t3:null==t?void 0:t.topic3,t4:null==t?void 0:t.topic4});return"".concat(eZ(e),"/subscriptions/event").concat(a)},VET_TRANSFER:(e,t)=>{let a=eY({pos:null==t?void 0:t.position,txOrigin:null==t?void 0:t.signerAddress,sender:null==t?void 0:t.sender,recipient:null==t?void 0:t.receiver});return"".concat(eZ(e),"/subscriptions/transfer").concat(a)},BEAT_LEGACY:(e,t)=>{let a=eY({pos:t});return"".concat(eZ(e),"/subscriptions/beat").concat(a)},BEAT:(e,t)=>{let a=eY({pos:t});return"".concat(eZ(e),"/subscriptions/beat2").concat(a)},NEW_TRANSACTIONS:e=>"".concat(eZ(e),"/subscriptions/txpool")}},debug:{post:{TRACE_TRANSACTION_CLAUSE:()=>"/debug/tracers",TRACE_CONTRACT_CALL:()=>"/debug/tracers/call",RETRIEVE_STORAGE_RANGE:()=>"/debug/storage-range"}},fees:{get:{FEES_HISTORY:(e,t,a)=>"/fees/history".concat(eY({blockCount:e,newestBlock:t,rewardPercentiles:null==a?void 0:a.join(",")}))}}},e$={getEventSubscriptionUrl:(e,t,a,n)=>{let i=new ev.ABIEvent(t).encodeFilterTopicsNoNull(null!=a?a:[]);return eX.subscriptions.get.EVENT(e,{position:null==n?void 0:n.blockID,contractAddress:null==n?void 0:n.address,topic0:i[0],topic1:i[1],topic2:i[2],topic3:i[3],topic4:i[4]})},getBlockSubscriptionUrl:(e,t)=>eX.subscriptions.get.BLOCK(e,null==t?void 0:t.blockID),getNewTransactionsSubscriptionUrl:e=>eX.subscriptions.get.NEW_TRANSACTIONS(e),getVETtransfersSubscriptionUrl:(e,t)=>eX.subscriptions.get.VET_TRANSFER(e,{position:null==t?void 0:t.blockID,signerAddress:null==t?void 0:t.signerAddress,sender:null==t?void 0:t.sender,receiver:null==t?void 0:t.recipient}),getLegacyBeatSubscriptionUrl:(e,t)=>eX.subscriptions.get.BEAT_LEGACY(e,null==t?void 0:t.blockID),getBeatSubscriptionUrl:(e,t)=>eX.subscriptions.get.BEAT(e,null==t?void 0:t.blockID)},e0={[ev.MAINNET_NETWORK.genesisBlock.id]:{registry:"0xa9231da8BF8D10e2df3f6E03Dd5449caD600129b",resolveUtils:"0xA11413086e163e41901bb81fdc5617c975Fa5a1A"},[ev.TESTNET_NETWORK.genesisBlock.id]:{registry:"0xcBFB30c1F267914816668d53AcBA7bA7c9806D13",resolveUtils:"0xc403b8EA53F707d7d4de095f0A20bC491Cf2bc94"},[ev.SOLO_NETWORK.genesisBlock.id]:{registry:"0x1c4a602ed21f3d1dddd1142c81f231ef1a08c921",resolveUtils:"0xb2f08bbfa8a42b1fbe63feec604cb147385203d7"}},e1={resolveName:async(e,t)=>{let[a]=await e1.resolveNames(e.blocks,e.transactions,[t]);return null!=a?a:null},resolveNames:async(e,t,a)=>{var n;let i=await e.getGenesisBlock();if(null===i||!ev.Address.isValid(null==(n=e0[i.id])?void 0:n.resolveUtils))return a.map(()=>null);let s=e0[i.id].resolveUtils,[r]=(await t.executeCall(s,ev.ABIItem.ofSignature(ev.ABIFunction,"function getAddresses(string[] names) returns (address[] addresses)"),[a])).result.array;return r.map(e=>e!==ev.ZERO_ADDRESS&&ev.Address.isValid(e)?e:null)},lookupAddress:async(e,t)=>{let[a]=await e1.lookupAddresses(e,[t]);return null!=a?a:null},lookupAddresses:async(e,t)=>{var a;let n=await e.blocks.getGenesisBlock();if(null===n||!ev.Address.isValid(null==(a=e0[n.id])?void 0:a.resolveUtils))return t.map(()=>null);let i=e0[n.id].resolveUtils,[s]=(await e.contracts.executeCall(i,ev.ABIItem.ofSignature(ev.ABIFunction,"function getNames(address[] addresses) returns (string[] names)"),[t])).result.array;return s.map(e=>""===e?null:e)}},e2=class{async getAccount(e,t){var a;let n=null==t||null==(a=t.revision)?void 0:a.toString();return new eO(await this.httpClient.get(eX.accounts.get.ACCOUNT_DETAIL(e.toString()),{query:ej({revision:n})}))}async getBytecode(e,t){var a;let n=null==t||null==(a=t.revision)?void 0:a.toString(),i=await this.httpClient.get(eX.accounts.get.ACCOUNT_BYTECODE(e.toString()),{query:ej({revision:n})});return ev.HexUInt.of(i.code)}async getStorageAt(e,t,a){var n;let i=t.toString(),s=null==a||null==(n=a.revision)?void 0:n.toString(),r=await this.httpClient.get(eX.accounts.get.STORAGE_AT(e.toString(),i),{query:ej({pos:i,revision:s})});return ev.HexUInt.of(r.value)}constructor(e){this.httpClient=e}},e3=class{destroy(){null!=this.pollInstance&&this.pollInstance.stopListen()}setupPolling(){var e;this.pollInstance=ez.createEventPoll(async()=>await this.getBestBlockCompressed(),1e4).onData(e=>{this.headBlock=e}).onError(null!=(e=this.onBlockError)?e:()=>{}),this.pollInstance.startListen()}async getBlockCompressed(e){if(null!=e&&!ev.Revision.isValid(e))throw new U("BlocksModule.getBlockCompressed()",'Invalid revision. The revision must be a string representing a block number or block id (also "best" is accepted which represents the best block & "finalized" for the finalized block).',{revision:e});return await this.httpClient.http("GET",eX.blocks.get.BLOCK_DETAIL(e))}async getBlockExpanded(e){if(null!=e&&!ev.Revision.isValid(e))throw new U("BlocksModule.getBlockExpanded()",'Invalid revision. The revision must be a string representing a block number or block id (also "best" is accepted which represents the best block & "finalized" for the finalized block).',{revision:e});return await this.httpClient.http("GET",eX.blocks.get.BLOCK_DETAIL(e),{query:ej({expanded:!0})})}async getBestBlockCompressed(){return await this.getBlockCompressed("best")}async getBestBlockExpanded(){return await this.getBlockExpanded("best")}async getBestBlockBaseFeePerGas(){var e;let t=await this.getBestBlockCompressed();return null===t?null:null!=(e=t.baseFeePerGas)?e:null}async getBestBlockRef(){let e=await this.getBestBlockCompressed();return null===e?null:e.id.slice(0,18)}async getFinalBlockCompressed(){return await this.getBlockCompressed("finalized")}async getFinalBlockExpanded(){return await this.getBlockExpanded("finalized")}async _waitForBlock(e,t,a){if(null!=e&&e<=0)throw new U("BlocksModule.waitForBlock()","Invalid blockNumber. The blockNumber must be a number representing a block number.",{blockNumber:e});return await ez.SyncPoll(async()=>t?await this.getBlockExpanded(e):await this.getBlockCompressed(e),{requestIntervalInMilliseconds:null==a?void 0:a.intervalMs,maximumWaitingTimeInMilliseconds:null==a?void 0:a.timeoutMs}).waitUntil(t=>null!=t&&t.number==e)}async waitForBlockCompressed(e,t){return await this._waitForBlock(e,!1,t)}async waitForBlockExpanded(e,t){return await this._waitForBlock(e,!0,t)}getHeadBlock(){return this.headBlock}async getGenesisBlock(){return await this.getBlockCompressed(0)}getAllAddressesIntoABlock(e){let t=new Set;return t.add(e.beneficiary),t.add(e.signer),e.transactions.forEach(e=>{e.clauses.forEach(e=>{"string"==typeof e.to&&t.add(e.to)}),t.add(e.gasPayer),t.add(e.origin),e.outputs.forEach(e=>{"string"==typeof e.contractAddress&&t.add(e.contractAddress),e.events.forEach(e=>{t.add(e.address)}),e.transfers.forEach(e=>{t.add(e.recipient),t.add(e.sender)})})}),Array.from(t)}constructor(e,t){(0,T._)(this,"headBlock",null),(0,T._)(this,"onBlockError",void 0),(0,T._)(this,"pollInstance",void 0),this.httpClient=e,this.onBlockError=null==t?void 0:t.onBlockError,(null==t?void 0:t.isPollingEnabled)===!0&&this.setupPolling()}},e6=class{async get(e){var t,a,n;let i={range:null!=(a=null==e?void 0:e.range)?a:{unit:"block",from:0,to:null==(t=await this.contract.contractsModule.transactionsModule.blocksModule.getBestBlockCompressed())?void 0:t.number},criteriaSet:this.criteriaSet,options:null==e?void 0:e.options,order:null!=(n=null==e?void 0:e.order)?n:"asc"};return await this.contract.contractsModule.transactionsModule.logsModule.filterEventLogs(i)}constructor(e,t){(0,T._)(this,"contract",void 0),(0,T._)(this,"criteriaSet",void 0),this.contract=e,this.criteriaSet=t}};function e5(e,t,a){let n=e.getEventAbi(t),i=new Map(n.encodeFilterTopicsNoNull(a).map((e,t)=>[t,e]));return{criteria:{address:e.address,topic0:i.get(0),topic1:i.has(1)?i.get(1):void 0,topic2:i.has(2)?i.get(2):void 0,topic3:i.has(3)?i.get(3):void 0,topic4:i.has(4)?i.get(4):void 0},eventAbi:n}}function e4(e){let t=function(e){let t=e.find(e=>e8(e));if(t)return{value:t.value.toString()}}(e),a=e.find(e=>e9(e)),n=e.find(e=>e7(e));return(void 0!==t||void 0!==a||void 0!==n)&&(e=e.filter(e=>!(e8(e)||e9(e)||e7(e)))),{args:e,clauseAdditionalOptions:{value:null==t?void 0:t.value,comment:null==a?void 0:a.comment,revision:null==n?void 0:n.revision}}}function e8(e){return void 0!==e.value}function e9(e){return void 0!==e.comment}function e7(e){return void 0!==e.revision}var te=class{setContractReadOptions(e){return this.contractCallOptions=e,this.contractCallOptions}getContractReadOptions(){return this.contractCallOptions}clearContractReadOptions(){this.contractCallOptions={}}setContractTransactOptions(e){return this.contractTransactionOptions=e,this.contractTransactionOptions}getContractTransactOptions(){return this.contractTransactionOptions}clearContractTransactOptions(){this.contractTransactionOptions={}}setSigner(e){return this.signer=e,this.signer}getSigner(){return this.signer}getFunctionAbi(e){return ev.ABIContract.ofAbi(this.abi).getFunction(e.toString())}getEventAbi(e){return ev.ABIContract.ofAbi(this.abi).getEvent(e.toString())}constructor(e,t,a,n,i){(0,T._)(this,"contractsModule",void 0),(0,T._)(this,"address",void 0),(0,T._)(this,"abi",void 0),(0,T._)(this,"signer",void 0),(0,T._)(this,"deployTransactionReceipt",void 0),(0,T._)(this,"read",{}),(0,T._)(this,"transact",{}),(0,T._)(this,"filters",{}),(0,T._)(this,"clause",{}),(0,T._)(this,"criteria",{}),(0,T._)(this,"contractCallOptions",{}),(0,T._)(this,"contractTransactionOptions",{}),this.abi=t,this.address=e,this.contractsModule=a,this.deployTransactionReceipt=i,this.signer=n,this.read=function(e){return new Proxy(e.read,{get:(t,a)=>async function(){for(var t,n,i,s,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];let c=e4(o),d=null==(t=c.clauseAdditionalOptions)?void 0:t.comment,u=null==(n=c.clauseAdditionalOptions)?void 0:n.revision,h=e.getFunctionAbi(a),g=await e.contractsModule.executeCall(e.address,h,c.args,{caller:void 0!==e.getSigner()?await (null==(i=e.getSigner())?void 0:i.getAddress()):void 0,...e.getContractReadOptions(),comment:d,revision:u,includeABI:!0});if(!g.success)throw new H(h.stringSignature,g.result.errorMessage,{contractAddress:e.address});return null!=(s=g.result.array)?s:[]}})}(this),this.transact=function(e){return new Proxy(e.transact,{get:(t,a)=>async function(){for(var t,n,i,s,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];if(void 0===e.getSigner())throw new eg("getTransactProxy()","Caller signer is required to transact with the contract.",{fieldName:"signer",prop:a});let c=e.getContractTransactOptions(),d=e4(o),u=null==(t=d.clauseAdditionalOptions)?void 0:t.value,h=null==(n=d.clauseAdditionalOptions)?void 0:n.comment;return o=d.args,await e.contractsModule.executeTransaction(e.getSigner(),e.address,e.getFunctionAbi(a),o,{...c,value:null!=(s=null!=(i=c.value)?i:u)?s:"0x0",comment:h,includeABI:!0})}})}(this),this.filters=function(e){return new Proxy(e.filters,{get:(t,a)=>t=>{let n=e5(e,a,t);return new e6(e,[n])}})}(this),this.clause=function(e){return new Proxy(e.clause,{get:(t,a)=>function(){for(var t,n,i,s,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];let c=e.getContractTransactOptions(),d=e4(o),u=null==(t=d.clauseAdditionalOptions)?void 0:t.value,h=null==(n=d.clauseAdditionalOptions)?void 0:n.comment;return o=d.args,{clause:ev.Clause.callFunction(ev.Address.of(e.address),e.getFunctionAbi(a),o,ev.VET.of(null!=(s=null!=(i=c.value)?i:u)?s:0,ev.Units.wei),{comment:h,includeABI:!0}),functionAbi:e.getFunctionAbi(a)}}})}(this),this.criteria=function(e){return new Proxy(e.criteria,{get:(t,a)=>t=>e5(e,a,t)})}(this)}},tt=class{async startDeployment(e,t){let a=ev.Clause.deployContract(ev.HexUInt.of(this.bytecode),e),n=await this.contractsModule.transactionsModule.estimateGas([a],await this.signer.getAddress(),t),i=await this.contractsModule.transactionsModule.buildTransactionBody([a],n.totalGas,t),s=await this.signer.signTransaction(eR.transactionBodyToTransactionRequestInput(i,await this.signer.getAddress()));return this.deployTransaction=await this.contractsModule.transactionsModule.sendTransaction(ev.Transaction.decode(ev.HexUInt.of(s.slice(2)).bytes,!0)),this}async waitForDeployment(){var e,t,a;if((null==(e=this.deployTransaction)?void 0:e.id)===void 0)throw new ey("ContractFactory.waitForDeployment()","Cannot find a contract deployment transaction",{networkUrl:this.contractsModule.transactionsModule.blocksModule.httpClient.baseURL});let n=await this.deployTransaction.wait();if((null==n||null==(t=n.outputs[0])?void 0:t.contractAddress)===null||(null==n||null==(a=n.outputs[0])?void 0:a.contractAddress)===void 0)throw new O("ContractFactory.waitForDeployment()","Contract deployment failed.",{deployTransaction:this.deployTransaction});return new te(null==n?void 0:n.outputs[0].contractAddress,this.abi,this.contractsModule,this.signer,n)}getDeployTransaction(){return this.deployTransaction}constructor(e,t,a,n){(0,T._)(this,"abi",void 0),(0,T._)(this,"bytecode",void 0),(0,T._)(this,"signer",void 0),(0,T._)(this,"deployTransaction",void 0),(0,T._)(this,"contractsModule",void 0),this.abi=e,this.bytecode=t,this.signer=a,this.contractsModule=n}},ta=class{createContractFactory(e,t,a){return new tt(e,t,a,this)}load(e,t,a){return new te(e,t,this,a)}async executeCall(e,t,a,n){return await this.transactionsModule.executeCall(e,t,a,n)}async executeMultipleClausesCall(e,t){return e.every(e=>"clause"in e),await this.transactionsModule.executeMultipleClausesCall(e,t)}async executeTransaction(e,t,a,n,i){return await this.transactionsModule.executeTransaction(e,t,a,n,i)}async executeMultipleClausesTransaction(e,t,a){return await this.transactionsModule.executeMultipleClausesTransaction(e,t,a)}async getLegacyBaseGasPrice(){return await this.transactionsModule.getLegacyBaseGasPrice()}constructor(e){this.transactionsModule=e}},tn=class{async retrieveStorageRange(e){var t,a,n,i,s;this.validateTarget(e.target,"retrieveStorageRange");let r="".concat(e.target.blockId,"/").concat(e.target.transaction,"/").concat(e.target.clauseIndex);return await this.httpClient.post(eX.debug.post.RETRIEVE_STORAGE_RANGE(),{query:{},body:{target:r,address:null==(a=e.options)||null==(t=a.address)?void 0:t.toString(),keyStart:null==(i=e.options)||null==(n=i.keyStart)?void 0:n.toString(),maxResult:null==(s=e.options)?void 0:s.maxResult},headers:{}})}async traceContractCall(e,t){var a,n,i,s,r,o,l,c,d,u,h,g,p;return await this.httpClient.post(eX.debug.post.TRACE_CONTRACT_CALL(),{query:{},body:{to:null==(n=e.target)||null==(a=n.to)?void 0:a.toString(),data:null==(s=e.target)||null==(i=s.data)?void 0:i.toString(),value:"bigint"==typeof(null==(o=e.target)||null==(r=o.value)?void 0:r.wei)?ev.HexUInt.of(e.target.value.wei).toString():void 0,name:t,gas:null==(l=e.options)?void 0:l.gas,gasPrice:null==(c=e.options)?void 0:c.gasPrice,caller:null==(d=e.options)?void 0:d.caller,provedWork:null==(u=e.options)?void 0:u.provedWork,gasPayer:null==(h=e.options)?void 0:h.gasPayer,expiration:null==(g=e.options)?void 0:g.expiration,blockRef:null==(p=e.options)?void 0:p.blockRef,config:e.config},headers:{}})}async traceTransactionClause(e,t){this.validateTarget(e.target,"traceTransactionClause");let a="".concat(e.target.blockId,"/").concat(e.target.transaction,"/").concat(e.target.clauseIndex);return await this.httpClient.post(eX.debug.post.TRACE_TRANSACTION_CLAUSE(),{query:{},body:{target:a,name:t,config:e.config},headers:{}})}validateTarget(e,t){if("number"==typeof e.transaction&&e.transaction<0)throw new U("DebugModule.validateTarget()","invalid transaction index '".concat(e.transaction,"' given as input for ").concat(t,"."),{transaction:e.transaction,functionName:t});if(e.clauseIndex<0)throw new U("DebugModule.validateTarget()","invalid clause index '".concat(e.clauseIndex,"' given as input for ").concat(t,"."),{clauseIndex:e.clauseIndex,functionName:t})}constructor(e){this.httpClient=e}},ti=class{setTransactionsModule(e){this.transactionsModule=e}async estimateGas(e,t,a){if(null==this.transactionsModule)throw new U("estimateGas()","Transactions module not set",{});return await this.transactionsModule.estimateGas(e,t,a)}async getMaxPriorityFeePerGas(){let e=await this.httpClient.get("/fees/priority");if(null==e||"object"!=typeof e)throw new U("getMaxPriorityFeePerGas()","Invalid response format from /fees/priority endpoint",{response:e});if(void 0===e.maxPriorityFeePerGas||null===e.maxPriorityFeePerGas||""===e.maxPriorityFeePerGas||"string"!=typeof e.maxPriorityFeePerGas)throw new U("getMaxPriorityFeePerGas()","Missing or invalid maxPriorityFeePerGas in response",{response:e});return e.maxPriorityFeePerGas}async getFeeHistory(e){if(null==e||"number"!=typeof e.blockCount||!Number.isFinite(e.blockCount)||e.blockCount<=0)throw new U("getFeeHistory()","Invalid blockCount parameter",{options:e});if(null!==e.newestBlock&&void 0!==e.newestBlock&&!ev.Revision.isValid(e.newestBlock))throw new U("getFeeHistory()",'Invalid revision. The revision must be a string representing a block number or block id (also "best" is accepted which represents the best block & "finalized" for the finalized block).',{options:e});let t=await this.httpClient.http("GET",eX.fees.get.FEES_HISTORY(e.blockCount,e.newestBlock,e.rewardPercentiles));if(null==t||"object"!=typeof t)throw new U("getFeeHistory()","Invalid response format from /fees/history endpoint",{response:t});return t}async getNextBlockBaseFeePerGas(){let e=await this.getFeeHistory({blockCount:1,newestBlock:"next"});return null===e.baseFeePerGas||void 0===e.baseFeePerGas||0===e.baseFeePerGas.length?null:ev.HexUInt.of(e.baseFeePerGas[0]).bi}constructor(e){(0,T._)(this,"httpClient",void 0),(0,T._)(this,"transactionsModule",void 0),this.httpClient=e,this.transactionsModule=null}},ts=class{async filterRawEventLogs(e){return await this.blocksModule.httpClient.http("POST",eX.logs.post.EVENT_LOGS(),{query:{},body:e,headers:{}})}async filterEventLogs(e){var t;let a=null==(t=e.criteriaSet)?void 0:t.map(e=>e.eventAbi),n=await this.getRawEventLogs(e),i=[];if(void 0!==a){let e=this.removeDuplicatedAbis(a);n.forEach(t=>{let a=e.get(t.topics[0]);if(null==a)throw new S("LogsModule.filterEventLogs","Topic not found in the provided ABIs.",{type:"event",value:t.topics[0]});t.decodedData=a.decodeEventLogAsArray({data:ev.Hex.of(t.data),topics:t.topics.map(e=>ev.Hex.of(e))}),i.push(t)})}return i}async filterGroupedEventLogs(e){var t;let a=null==(t=e.criteriaSet)?void 0:t.map(e=>e.eventAbi),n=await this.getRawEventLogs(e),i=new Map;if(void 0!==a){let e=this.removeDuplicatedAbis(a);e.forEach(e=>i.set(e.signatureHash,[])),n.forEach(t=>{var a;let n=e.get(t.topics[0]);if(null==n)throw new S("LogsModule.filterGroupedEventLogs","Topic not found in the provided ABIs.",{type:"event",value:t.topics[0]});t.decodedData=n.decodeEventLogAsArray({data:ev.Hex.of(t.data),topics:t.topics.map(e=>ev.Hex.of(e))}),null==(a=i.get(t.topics[0]))||a.push(t)})}return Array.from(i.values())}async getRawEventLogs(e){var t,a,n,i;let s=null==(t=e.criteriaSet)?void 0:t.map(e=>e.criteria),r={range:null!=(n=e.range)?n:{unit:"block",from:0,to:null==(a=await this.blocksModule.getBestBlockCompressed())?void 0:a.number},criteriaSet:s,options:e.options,order:null!=(i=e.order)?i:"asc"};return await this.filterRawEventLogs(r)}removeDuplicatedAbis(e){let t=new Map;return e.forEach(e=>{t.has(e.signatureHash)||t.set(e.signatureHash,e)}),t}async filterTransferLogs(e){return await this.blocksModule.httpClient.http("POST",eX.logs.post.TRANSFER_LOGS(),{query:{},body:e,headers:{}})}constructor(e){(0,T._)(this,"blocksModule",void 0),this.blocksModule=e}},tr=new WeakMap,to=class{async getNodes(){var e;return null!=(e=await this.blocksModule.httpClient.http("GET",eX.nodes.get.NODES()))?e:[]}async isHealthy(){let e=await this.blocksModule.getBestBlockCompressed(),t=this.getTimestampFromBlock(e);return 30>Math.abs(Math.floor(Date.now()/1e3)-t)}async getChaintag(){let e=tr.get(this.blocksModule);if(void 0!==e)return e;let t=await this.blocksModule.getGenesisBlock();if(!(null==t?void 0:t.id))throw new U("NodesModule.getChaintag()","The genesis block id is null or undefined. Unable to get the chain tag.",{url:this.blocksModule.httpClient.baseURL});let a=+"0x".concat(t.id.slice(-2));if(Number.isNaN(a))throw new U("NodesModule.getChaintag()","Invalid genesis block id. Unable to derive chain tag.",{id:t.id});return tr.set(this.blocksModule,a),a}constructor(e){(0,T._)(this,"blocksModule",void 0),(0,T._)(this,"getTimestampFromBlock",e=>{if(null==e||"object"!=typeof e||!("timestamp"in e)||"number"!=typeof e.timestamp)throw new U("NodesModule.getTimestampFromBlock()","Sending failed: Input must be a valid raw transaction in hex format.",{response:e});return null==e?void 0:e.timestamp}),this.blocksModule=e}},tl=ev.Keccak256.of(ev.Txt.of("Error(string)").bytes).toString().slice(0,10),tc=ev.Keccak256.of(ev.Txt.of("Panic(uint256)").bytes).toString().slice(0,10);function td(e){if(e.startsWith(tl))return ev.ABI.ofEncoded("string","0x"+e.slice(tl.length)).getFirstDecodedValue();if(e.startsWith(tc)){let t=ev.ABI.ofEncoded("uint256","0x"+e.slice(tc.length)).getFirstDecodedValue();return"Panic(0x".concat(parseInt(t).toString(16).padStart(2,"0"),")")}}var tu=class{async getTransaction(e,t){if(!ev.ThorId.isValid(e))throw new U("TransactionsModule.getTransaction()","Invalid transaction ID given as input. Input must be an hex string of length 64.",{id:e});if((null==t?void 0:t.head)!==void 0&&!ev.ThorId.isValid(t.head))throw new U("TransactionsModule.getTransaction()","Invalid head given as input. Input must be an hex string of length 64.",{head:null==t?void 0:t.head});return await this.blocksModule.httpClient.http("GET",eX.transactions.get.TRANSACTION(e),{query:ej({raw:!1,head:null==t?void 0:t.head,pending:null==t?void 0:t.pending})})}async getTransactionRaw(e,t){if(!ev.ThorId.isValid(e))throw new U("TransactionsModule.getTransactionRaw()","Invalid transaction ID given as input. Input must be an hex string of length 64.",{id:e});if((null==t?void 0:t.head)!==void 0&&!ev.ThorId.isValid(t.head))throw new U("TransactionsModule.getTransaction()","Invalid head given as input. Input must be an hex string of length 64.",{head:null==t?void 0:t.head});return await this.blocksModule.httpClient.http("GET",eX.transactions.get.TRANSACTION(e),{query:ej({raw:!0,head:null==t?void 0:t.head,pending:null==t?void 0:t.pending})})}async getTransactionReceipt(e,t){if(!ev.ThorId.isValid(e))throw new U("TransactionsModule.getTransactionReceipt()","Invalid transaction ID given as input. Input must be an hex string of length 64.",{id:e});if((null==t?void 0:t.head)!==void 0&&!ev.ThorId.isValid(t.head))throw new U("TransactionsModule.getTransaction()","Invalid head given as input. Input must be an hex string of length 64.",{head:null==t?void 0:t.head});try{return await this.blocksModule.httpClient.http("GET",eX.transactions.get.TRANSACTION_RECEIPT(e),{query:ej({head:null==t?void 0:t.head})})}catch(e){if(e instanceof q)return null;throw e}}async sendRawTransaction(e){if(!ev.Hex.isValid0x(e))throw new U("TransactionsModule.sendRawTransaction()","Sending failed: Input must be a valid raw transaction in hex format.",{raw:e});try{ev.Transaction.decode(ev.HexUInt.of(e.slice(2)).bytes,!0)}catch(t){throw new U("TransactionsModule.sendRawTransaction()","Sending failed: Input must be a valid raw transaction in hex format. Decoding error encountered.",{raw:e},t)}let t=await this.blocksModule.httpClient.http("POST",eX.transactions.post.TRANSACTION(),{body:{raw:e}});return{id:t.id,wait:async()=>await this.waitForTransaction(t.id)}}async sendTransaction(e){if(!e.isSigned)throw new U("TransactionsModule.sendTransaction()","Invalid transaction given as input. Transaction must be signed.",{signedTx:e});let t=ev.Hex.of(e.encoded).toString();return await this.sendRawTransaction(t)}async waitForTransaction(e,t){var a;if(!ev.ThorId.isValid(e))throw new U("TransactionsModule.waitForTransaction()","Invalid transaction ID given as input. Input must be an hex string of length 64.",{txID:e});if((null==t?void 0:t.timeoutMs)===void 0)return await ez.SyncPoll(async()=>await this.getTransactionReceipt(e),{requestIntervalInMilliseconds:null==t?void 0:t.intervalMs,maximumWaitingTimeInMilliseconds:null==t?void 0:t.timeoutMs}).waitUntil(e=>null!==e);let n=Date.now()+t.timeoutMs,i=null!=(a=null==t?void 0:t.intervalMs)?a:1e3;for(;;){if(Date.now()>=n)return null;let t=await this.getTransactionReceipt(e).catch(()=>null);if(null!==t)return t;await new Promise(e=>setTimeout(e,i))}}async buildTransactionBody(e,t,a){var n,i,s,r,o;let l=await this.blocksModule.getBlockCompressed(0);if(null===l)throw new eg("TransactionsModule.buildTransactionBody()","Error while building transaction body: Cannot get genesis block.",{fieldName:"genesisBlock",genesisBlock:l,clauses:e,options:a});let c=null!=(n=null==a?void 0:a.blockRef)?n:await this.blocksModule.getBestBlockRef();if(null===c)throw new eg("TransactionsModule.buildTransactionBody()","Error while building transaction body: Cannot get blockRef.",{fieldName:"blockRef",blockRef:c,clauses:e,options:a});let d=null!=(i=null==a?void 0:a.chainTag)?i:+"0x".concat(l.id.slice(-2)),u=await this.fillDefaultBodyOptions(a),h;return h=Array.isArray(e)?e.map(e=>({to:e.to,data:e.data,value:e.value})):[{to:e.to,data:e.data,value:e.value}],{blockRef:c,chainTag:d,clauses:await this.resolveNamesInClauses(h),dependsOn:null!=(s=null==a?void 0:a.dependsOn)?s:null,expiration:null!=(r=null==a?void 0:a.expiration)?r:32,gas:(null==a?void 0:a.gas)!==void 0?Number(a.gas):t,gasPriceCoef:null==u?void 0:u.gasPriceCoef,maxFeePerGas:null==u?void 0:u.maxFeePerGas,maxPriorityFeePerGas:null==u?void 0:u.maxPriorityFeePerGas,nonce:null!=(o=null==a?void 0:a.nonce)?o:ev.Hex.random(8).toString(),reserved:(null==a?void 0:a.isDelegated)===!0?{features:1}:void 0}}async fillTransactionBody(e){let t={maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,gasPriceCoef:e.gasPriceCoef},a=await this.fillDefaultBodyOptions(t);return{...e,...a}}async fillDefaultBodyOptions(e){null!=e||(e={});let t=void 0!==e.maxFeePerGas,a=void 0!==e.maxPriorityFeePerGas,n=void 0!==e.gasPriceCoef;if(a&&n&&!t)throw new U("TransactionsModule.fillDefaultBodyOptions()","Invalid parameter combination: maxPriorityFeePerGas and gasPriceCoef cannot be used together without maxFeePerGas.",{options:e});if(t&&n&&!a)throw new U("TransactionsModule.fillDefaultBodyOptions()","Invalid parameter combination: maxFeePerGas and gasPriceCoef cannot be used together without maxPriorityFeePerGas.",{options:e});if(a&&t&&n)e.gasPriceCoef=void 0;else if(a&&t)e.gasPriceCoef=void 0;else if(n&&!a&&!t)return e.maxFeePerGas=void 0,e.maxPriorityFeePerGas=void 0,e;let i=await this.forkDetector.isGalacticaForked("best");if(!i&&(t||a))throw new U("TransactionsModule.fillDefaultBodyOptions()","Invalid transaction body options. Dynamic fee tx is not allowed before Galactica fork.",{options:e});if(!i&&!n)return e.gasPriceCoef=0,e;if(i&&t&&a)return e;e.gasPriceCoef=void 0;let s=await this.gasModule.getNextBlockBaseFeePerGas();if(null==s)throw new U("TransactionsModule.fillDefaultBodyOptions()","Invalid transaction body options. Unable to get next block base fee per gas.",{options:e});if(void 0===e.maxPriorityFeePerGas||null===e.maxPriorityFeePerGas){let t=await this.calculateDefaultMaxPriorityFeePerGas(s);e.maxPriorityFeePerGas=t}if(void 0===e.maxFeePerGas||null===e.maxFeePerGas){let t=ev.HexUInt.of(e.maxPriorityFeePerGas).bi;e.maxFeePerGas=ev.HexUInt.of(112n*s/100n+t).toString()}return e}async calculateDefaultMaxPriorityFeePerGas(e){let t=await this.gasModule.getFeeHistory({blockCount:10,newestBlock:"best",rewardPercentiles:[25,50,75]}),a;if(null!==t.reward&&void 0!==t.reward&&t.reward.length>0){let e=t.reward[t.reward.length-1];if(3===new Set(e).size)a=ev.HexUInt.of(e[2]).bi;else{let e=0n,n=0;for(let a of t.reward)null!==a.length&&a.length>2&&null!==a[2]&&void 0!==a[2]&&(e+=ev.HexUInt.of(a[2]).bi,n++);a=n>0?e/BigInt(n):0n}}else a=ev.HexUInt.of(await this.gasModule.getMaxPriorityFeePerGas()).bi;let n=46n*e/1000n,i=n<a?n:a;return ev.HexUInt.of(i).toString()}async resolveNamesInClauses(e){let t=e.reduce((e,t)=>("string"==typeof t.to&&!e.has(t.to)&&t.to.includes(".")&&e.set(t.to,t.to),e),new Map),a=[...t.keys()];return 0===t.size?e:((await e1.resolveNames(this.blocksModule,this,a)).forEach((e,n)=>{null!==e&&t.set(a[n],e)}),e.map(e=>{var a;return"string"!=typeof e.to?e:{to:null!=(a=t.get(e.to))?a:e.to,data:e.data,value:e.value}}))}async simulateTransaction(e,t){let{revision:a,caller:n,gasPrice:i,gasPayer:s,gas:r,blockRef:o,expiration:l,provedWork:c}=null!=t?t:{};if(null!=a&&!ev.Revision.isValid(a.toString()))throw new U("TransactionsModule.simulateTransaction()","Invalid revision given as input. Input must be a valid revision (i.e., a block number or block ID).",{revision:a});return await this.blocksModule.httpClient.http("POST",eX.accounts.post.SIMULATE_TRANSACTION(null==a?void 0:a.toString()),{query:ej({revision:null==a?void 0:a.toString()}),body:{clauses:await this.resolveNamesInClauses(e.map(e=>({to:e.to,data:e.data,value:BigInt(e.value).toString()}))),gas:r,gasPrice:i,caller:n,provedWork:c,gasPayer:s,expiration:l,blockRef:o}})}decodeRevertReason(e,t){if(e.startsWith(eG))return ev.ABI.ofEncoded("string","0x".concat(e.slice(eG.length))).getFirstDecodedValue();if(e.startsWith(eL)){let t=ev.ABI.ofEncoded("uint256","0x".concat(e.slice(eL.length))).getFirstDecodedValue();return"Panic(0x".concat(parseInt(t).toString(16).padStart(2,"0"),")")}return void 0!==t?new eb.Interface([e_.ErrorFragment.from(t)]).decodeErrorResult(e_.ErrorFragment.from(t),e).toArray()[0]:""}async getRevertReason(e,t){let a=this.blocksModule,n=this.debugModule,i=await this.getTransaction(e),s=null!==i?await a.getBlockExpanded(i.meta.blockID):null;if(null===s||null===i)return null;let r=tE(tO.formatToRPCStandard(s,""),e);for(let e=0;e<i.clauses.length;e++){let a=await n.traceTransactionClause({target:{blockId:ev.ThorId.of(s.id),transaction:r,clauseIndex:e},config:{OnlyTopCall:!0}},"call");if(void 0!==a.output)return this.decodeRevertReason(a.output,t)}return null}async estimateGas(e,t,a){var n;let i=e.map(e=>{if(void 0===e)throw new U("TransactionsModule.estimateGas()","Invalid ContractClause provided: missing inner clause.",{clause:e});return"clause"in e?e.clause:e});if(0===i.length)throw new U("TransactionsModule.estimateGas()","Invalid clauses. Clauses must be an array with at least one clause.",{clauses:e,caller:t,options:a});if((null==a?void 0:a.gasPadding)!==void 0&&(a.gasPadding<=0||a.gasPadding>1))throw new U("GasModule.estimateGas()","Invalid gasPadding. gasPadding must be a number between (0, 1].",{gasPadding:null==a?void 0:a.gasPadding});let s=await this.simulateTransaction(i,{caller:t,...a}),r=s.some(e=>e.reverted),o=Number(ev.Transaction.intrinsicGas(i).wei),l=s.reduce((e,t)=>e+t.gasUsed,0),c=Math.ceil((o+(0!==l?l+15e3:0))*(1+(null!=(n=null==a?void 0:a.gasPadding)?n:0)));return r?{totalGas:c,reverted:!0,revertReasons:s.map(e=>{var t;return null!=(t=td(e.data))?t:""}),vmErrors:s.map(e=>e.vmError)}:{totalGas:c,reverted:!1,revertReasons:[],vmErrors:[]}}async executeCall(e,t,a,n){let i=await this.simulateTransaction([{to:e,value:"0",data:t.encodeData(a).toString()}],n);return this.getContractCallResult(i[0].data,t,i[0].reverted)}async executeMultipleClausesCall(e,t){return(await this.simulateTransaction(e.map(e=>{if(void 0===e.clause)throw new U("TransactionsModule.executeMultipleClausesCall()","Invalid ContractClause provided: missing inner clause.",{clause:e});return e.clause}),t)).map((t,a)=>this.getContractCallResult(t.data,e[a].functionAbi,t.reverted))}async executeTransaction(e,t,a,n,i){var s;let r=await e.sendTransaction({clauses:[ev.Clause.callFunction(ev.Address.of(t),a,n,ev.VET.of(null!=(s=null==i?void 0:i.value)?s:0,ev.Units.wei))],gas:null==i?void 0:i.gas,gasLimit:null==i?void 0:i.gasLimit,gasPrice:null==i?void 0:i.gasPrice,gasPriceCoef:null==i?void 0:i.gasPriceCoef,maxFeePerGas:null==i?void 0:i.maxFeePerGas,maxPriorityFeePerGas:null==i?void 0:i.maxPriorityFeePerGas,nonce:null==i?void 0:i.nonce,value:null==i?void 0:i.value,dependsOn:null==i?void 0:i.dependsOn,expiration:null==i?void 0:i.expiration,chainTag:null==i?void 0:i.chainTag,blockRef:null==i?void 0:i.blockRef,delegationUrl:null==i?void 0:i.delegationUrl,comment:null==i?void 0:i.comment});return{id:r,wait:async()=>await this.waitForTransaction(r)}}async executeMultipleClausesTransaction(e,t,a){let n=await t.sendTransaction({clauses:e.map(e=>{if(void 0===e)throw new U("TransactionsModule.executeMultipleClausesTransaction()","Invalid ContractClause[] | TransactionClause[] provided: missing clause.",{clause:e});return"clause"in e?e.clause:e}),gas:null==a?void 0:a.gas,gasLimit:null==a?void 0:a.gasLimit,gasPrice:null==a?void 0:a.gasPrice,gasPriceCoef:null==a?void 0:a.gasPriceCoef,maxFeePerGas:null==a?void 0:a.maxFeePerGas,maxPriorityFeePerGas:null==a?void 0:a.maxPriorityFeePerGas,nonce:null==a?void 0:a.nonce,value:null==a?void 0:a.value,dependsOn:null==a?void 0:a.dependsOn,expiration:null==a?void 0:a.expiration,chainTag:null==a?void 0:a.chainTag,blockRef:null==a?void 0:a.blockRef,delegationUrl:null==a?void 0:a.delegationUrl,comment:null==a?void 0:a.comment});return{id:n,wait:async()=>await this.waitForTransaction(n)}}async getLegacyBaseGasPrice(){return await this.executeCall(eH.PARAMS_ADDRESS,ev.ABIContract.ofAbi(eH.PARAMS_ABI).getFunction("get"),[ev.dataUtils.encodeBytes32String("base-gas-price","left")])}getContractCallResult(e,t,a){var n;if(a)return{success:!1,result:{errorMessage:null!=(n=td(e))?n:""}};let i=ev.Hex.of(e);return{success:!0,result:{plain:t.decodeResult(i),array:t.decodeOutputAsArray(i)}}}constructor(e,t,a,n,i){(0,T._)(this,"blocksModule",void 0),(0,T._)(this,"debugModule",void 0),(0,T._)(this,"logsModule",void 0),(0,T._)(this,"gasModule",void 0),(0,T._)(this,"forkDetector",void 0),this.blocksModule=e,this.debugModule=t,this.logsModule=a,this.gasModule=n,this.forkDetector=i}},th=async(e,t,a,n)=>{let i=ev.Hex.of(e.encoded).toString();try{let e=await n.http("POST",t,{body:{origin:a,raw:i},headers:{"Content-Type":"application/json"}});return ev.HexUInt.of(e.signature.slice(2)).bytes}catch(e){throw new ep("_getDelegationSignature()","Delegation failed: Cannot get signature from gasPayerUrl.",{gasPayerUrl:t},e)}},tg=e=>{let t=null==e,a=!t&&(null==e?void 0:e.gasPayerServiceUrl)!==void 0,n=!t&&(null==e?void 0:e.gasPayerPrivateKey)!==void 0;return{isDelegated:()=>a||n,gasPayerOrUndefined:()=>t?void 0:e,gasPayerOrNull:()=>t?null:e,getDelegationSignatureUsingUrl:async(t,n,i)=>{if(!a)throw new ep("DelegationHandler.getDelegationSignatureUsingUrl()","Delegation with url failed: gasPayerServiceUrl is not defined.",void 0);return await th(t,null==e?void 0:e.gasPayerServiceUrl,n,i)}}},tp=new Map,ty=!1,tf=class{async isGalacticaForked(e){if(ty)return!0;if(null!=e||(e="best"),!ev.Revision.isValid(e))throw new U("GalacticaForkDetector.isGalacticaForked()","Invalid revision. Must be a valid block number or ID.",{revision:e});let t=String(e),a=tp.get(t),n=Date.now();if(void 0!==a){if(a.result)return ty=!0,!0;if(n-a.timestamp<3e5)return!1}let i=await this.httpClient.http("GET",eX.blocks.get.BLOCK_DETAIL(e),{query:ej({expanded:!0})});if(null===i)return tp.set(t,{result:!1,timestamp:n}),!1;let s=void 0!==i.baseFeePerGas;return tp.set(t,{result:s,timestamp:n}),s&&(ty=!0),s}async detectGalactica(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"best";return await this.isGalacticaForked(e)}clearCache(){tp.clear(),ty=!1}constructor(e){this.httpClient=e}},tm=class e{static at(t,a){return new e(new eA(t),a)}destroy(){this.blocks.destroy()}static fromUrl(t,a){return e.at(t,a)}constructor(e,t){(0,T._)(this,"accounts",void 0),(0,T._)(this,"nodes",void 0),(0,T._)(this,"blocks",void 0),(0,T._)(this,"logs",void 0),(0,T._)(this,"transactions",void 0),(0,T._)(this,"contracts",void 0),(0,T._)(this,"forkDetector",void 0),(0,T._)(this,"gas",void 0),(0,T._)(this,"debug",void 0),this.httpClient=e,this.accounts=new e2(e),this.debug=new tn(e),this.blocks=new e3(e,t),this.logs=new ts(this.blocks),this.nodes=new to(this.blocks),this.gas=new ti(this.httpClient),this.forkDetector=new tf(this.httpClient),this.transactions=new tu(this.blocks,this.debug,this.logs,this.gas,this.forkDetector),this.gas.setTransactionsModule(this.transactions),this.contracts=new ta(this.transactions)}},tv=class{async populateCall(e){if(void 0===e.from||null===e.from)e.from=ev.Address.checksum(ev.HexUInt.of(await this.getAddress()));else if(ev.Address.checksum(ev.HexUInt.of(e.from))!==ev.Address.checksum(ev.HexUInt.of(await this.getAddress())))throw new U("VeChainAbstractSigner.populateCall()","From address does not match the signer address.",{signerAddress:ev.Address.checksum(ev.HexUInt.of(await this.getAddress())),fromAddress:ev.Address.checksum(ev.HexUInt.of(e.from))});return void 0===e.to&&(e.to=null),void 0!==e.clauses&&e.clauses.length>0&&(e.to=e.clauses[0].to,e.value=e.clauses[0].value,e.data=e.clauses[0].data),e}async populateTransaction(e){var t,a,n,i,s,r,o,l,c;if(void 0===this.provider)throw new X("VechainAbstractSigner.populateTransaction()","Thor client not found into the signer. Please attach a Provider with a thor client to your signer instance.",{provider:this.provider});let d=this.provider.thorClient,u=await this.populateCall(e),h;return void 0!==e.gasLimit?(console.warn("\n****************** WARNING: Deprecated Property Usage ******************\n- The `gasLimit` property is deprecated and will be removed in a future release.\n- Please use the `gas` property instead.\n- The `gasLimit` value will be used as the `gas` value for this transaction.\n"),h=Number(e.gasLimit)):h=void 0!==e.gas?Number(e.gas):await this.estimateGas(e),await d.transactions.buildTransactionBody(null!=(a=u.clauses)?a:this._buildClauses(u),h,{isDelegated:null==(t=this.provider)?void 0:t.enableDelegation,nonce:null!=(n=u.nonce)?n:await this.getNonce("pending"),blockRef:null!=(i=u.blockRef)?i:void 0,chainTag:null!=(s=u.chainTag)?s:void 0,dependsOn:null!=(r=u.dependsOn)?r:void 0,expiration:u.expiration,gasPriceCoef:null!=(o=u.gasPriceCoef)?o:void 0,maxPriorityFeePerGas:null!=(l=u.maxPriorityFeePerGas)?l:void 0,maxFeePerGas:null!=(c=u.maxFeePerGas)?c:void 0,gas:e.gas,gasLimit:e.gasLimit})}async estimateGas(e){var t;if(void 0===this.provider)throw new X("VechainAbstractSigner.estimateGas()","Thor client not found into the signer. Please attach a Provider with a thor client to your signer instance.",{provider:this.provider});let a=this.provider.thorClient,n=await this.populateCall(e);return(await a.transactions.estimateGas(null!=(t=n.clauses)?t:this._buildClauses(n),n.from)).totalGas}async call(e,t){var a,n,i,s,r,o,l;if(void 0===this.provider)throw new X("VechainAbstractSigner.call()","Thor client not found into the signer. Please attach a Provider with a thor client to your signer instance.",{provider:this.provider});let c=this.provider.thorClient,d=await this.populateCall(e);return(await c.transactions.simulateTransaction(null!=(a=d.clauses)?a:this._buildClauses(d),{revision:null!=t?t:void 0,gas:null!=(n=d.gas)?n:void 0,gasPrice:null!=(i=d.gasPrice)?i:void 0,caller:d.from,provedWork:null!=(s=d.provedWork)?s:void 0,gasPayer:null!=(r=d.gasPayer)?r:void 0,expiration:null!=(o=d.expiration)?o:void 0,blockRef:null!=(l=d.blockRef)?l:void 0}))[0].data}async getNonce(e){return void 0!==this.provider?await this.provider.request({method:"eth_getTransactionCount",params:[await this.getAddress(),e]}):ev.Hex.random(6).toString()}async signMessage(e){try{let t="string"==typeof e?ev.Txt.of(e).bytes:e,a=ev.Keccak256.of((0,eP.concatBytes)(this.MESSAGE_PREFIX,ev.Txt.of(t.length).bytes,t)).bytes;return await this.signPayload(a)}catch(t){throw new eu("VeChainAbstractSigner.signMessage","The message could not be signed.",{message:e},t)}}deducePrimaryType(e){let t=new Map;for(let n in Object.keys(e).forEach(e=>{t.set(e,[])}),e)for(let i of e[n]){var a;let e=i.type.split("[")[0];t.has(e)&&(null==(a=t.get(e))||a.push(n))}let n=Array.from(t.keys()).filter(e=>{var a;return(null==(a=t.get(e))?void 0:a.length)===0});if(1!==n.length)throw new eu("VeChainAbstractSigner.deducePrimaryType","Ambiguous primary types or unused types.",{primaryTypes:n.join(", ")});return n[0]}async signTypedData(e,t,a,n){try{let i={chainId:void 0,name:e.name,salt:e.salt,verifyingContract:e.verifyingContract,version:e.version};if(void 0!==e.chainId)if("string"==typeof e.chainId||"number"==typeof e.chainId)i.chainId=BigInt(e.chainId);else if("bigint"==typeof e.chainId)i.chainId=e.chainId;else throw new U("VeChainAbstractSigner.signTypedData","Invalid chainId type.",{chainId:e.chainId});let s=ev.Hex.of((0,ek.hashTypedData)({domain:i,types:t,primaryType:null!=n?n:this.deducePrimaryType(t),message:a})).bytes;return await this.signPayload(s)}catch(i){throw new eu("VeChainAbstractSigner.signTypedData","The typed data could not be signed.",{domain:e,types:t,message:a,primaryType:n},i)}}async resolveName(e){return void 0===this.provider?null:await e1.resolveName(this.provider.thorClient,e)}_buildClauses(e){var t,a,n;return void 0!==e.to&&null!==e.to?[{to:e.to,data:null!=(t=e.data)?t:"0x",value:null!=(a=e.value)?a:"0x0"}]:[ev.Clause.deployContract(ev.HexUInt.of(null!=(n=e.data)?n:0),void 0,{value:void 0===e.value?e.value:ev.HexUInt.of(e.value).toString(!0),comment:e.comment})]}constructor(e){(0,T._)(this,"MESSAGE_PREFIX",ev.Txt.of("\x19Ethereum Signed Message:\n").bytes),(0,T._)(this,"provider",void 0),this.provider=e}},tw=class e extends tv{connect(t){return new e(this.privateKey,t)}async getAddress(){return ev.Address.checksum(ev.HexUInt.of(await Promise.resolve(ev.Address.ofPrivateKey(this.privateKey).toString())))}async signTransaction(e){var t;if(void 0===this.provider)throw new X("VeChainPrivateKeySigner.signTransaction()","Thor provider is not found into the signer. Please attach a Provider to your signer instance.",{transactionToSign:e});let a=tg(await (null==(t=this.provider.wallet)?void 0:t.getGasPayer())).gasPayerOrNull();return void 0!==e.delegationUrl&&(a={gasPayerServiceUrl:e.delegationUrl}),await this._signFlow(e,a,this.provider.thorClient)}async sendTransaction(e){if(void 0===this.provider)throw new X("VeChainPrivateKeySigner.sendTransaction()","Thor provider is not found into the signer. Please attach a Provider to your signer instance.",{transactionToSend:e});let t=this.provider,a=await this.signTransaction(e);return await t.request({method:"eth_sendRawTransaction",params:[a]})}async signPayload(e){let t=ev.Secp256k1.sign(e,new Uint8Array(this.privateKey));return t[t.length-1]+=27,await Promise.resolve(ev.Hex.of(t).toString())}async _signFlow(e,t,a){let n=await this.populateTransaction(e);return null!==t?await this._signWithGasPayer(n,this.privateKey,a,t):ev.Hex.of(ev.Transaction.of(n).sign(this.privateKey).encoded).toString()}async _signWithGasPayer(e,t,a,n){let i=ev.Address.ofPrivateKey(t).toString(),s=ev.Transaction.of(e);if((null==n?void 0:n.gasPayerPrivateKey)!==void 0){if(!ev.HexUInt.isValid(n.gasPayerPrivateKey))throw new U("VeChainPrivateKeySigner._signWithGasPayer","Invalid gas payer private key. Ensure it is a valid hexadecimal string.",{gasPayerPrivateKey:n.gasPayerPrivateKey});return ev.Hex.of(ev.Transaction.of(e).signAsSenderAndGasPayer(t,ev.HexUInt.of(n.gasPayerPrivateKey).bytes).encoded).toString()}let r=await tg(n).getDelegationSignatureUsingUrl(s,i,a.httpClient),o=ev.Secp256k1.sign(s.getTransactionHash().bytes,t),l=new Uint8Array(o.length+r.length);return l.set(o),l.set(r,o.length),ev.Hex.of(ev.Transaction.of(s.body,l).encoded).toString()}constructor(e,t){if(!ev.Secp256k1.isValidPrivateKey(e))throw new el("VeChainPrivateKeySigner.constructor()","Invalid private key used to sign initialize the signer. Ensure it's a valid Secp256k1 private key.",void 0);super(t),this.privateKey=e}},tb=class{getSignerSync(e,t){let a=this.getAccountSync(t);return(null==a?void 0:a.privateKey)!==void 0?new tw(a.privateKey,e):null}getAddressesSync(){return this.accounts.map(e=>e.address)}getAccountSync(e){var t,a;if(void 0===e||"number"==typeof e)return null!=(t=this.accounts[null!=e?e:0])?t:null;if(!ev.Address.isValid(e))throw new U("AbstractProviderInternalWallet.getAccountSync()","Invalid params expected an address.",{addressOrIndex:e});return null!=(a=this.accounts.find(t=>ev.Address.checksum(ev.HexUInt.of(t.address))===ev.Address.checksum(ev.HexUInt.of(e))))?a:null}getGasPayerSync(){return tg(this.gasPayer).gasPayerOrNull()}constructor(e,t){(0,T._)(this,"accounts",void 0),(0,T._)(this,"gasPayer",void 0),this.accounts=e,this.gasPayer=null==t?void 0:t.gasPayer}},t_=class extends tb{async getSigner(e,t){return await Promise.resolve(this.getSignerSync(e,t))}async getAddresses(){return await Promise.resolve(this.getAddressesSync())}async getAccount(e){return await Promise.resolve(this.getAccountSync(e))}async getGasPayer(){return await Promise.resolve(this.getGasPayerSync())}},tT=class extends t_{constructor(e,t=1,a=0,n=ev.HDKey.VET_DERIVATION_PATH,i){super([...Array(t).keys()].map(t=>{let i=ev.HDKey.fromMnemonic(e,n).deriveChild(t+a).privateKey;return{privateKey:i,publicKey:ev.Secp256k1.derivePublicKey(i),address:ev.Address.ofPrivateKey(i).toString()}}),i),(0,T._)(this,"mnemonic",void 0),(0,T._)(this,"derivationPath",void 0),(0,T._)(this,"count",void 0),(0,T._)(this,"initialIndex",void 0),this.mnemonic=e,this.derivationPath=n,this.count=t,this.initialIndex=a}},tP=class extends eT.JsonRpcApiProvider{async send(e,t){return this._start(),await super.send(e,t)}async _send(e){let t=Array.isArray(e)?e:[e],a=[];for(let e of t)try{let t=await this.hardhatProvider.send(e.method,e.params);a.push({id:e.id,result:t})}catch(t){a.push({id:e.id,error:{code:-32603,message:k(t)}})}return a}constructor(e,t,a){super({name:t,chainId:e}),(0,T._)(this,"hardhatProvider",void 0),this.hardhatProvider=a}},tk=5e3,tI=["latest","earliest","pending","safe","finalized"],tx=e=>{if(ev.HexUInt.isValid(e))return ev.Revision.of(ev.HexUInt.of(e).n.toString());if(!tI.includes(e)){let t=e.toString();throw new ee("DefaultBlockToRevision","Invalid default block: ".concat(t),t,null)}return"earliest"===e?ev.Revision.of(ev.HexUInt.of(0)):"safe"===e?ev.Revision.of("justified"):"finalized"===e?ev.Revision.of("finalized"):ev.Revision.of("best")},tC={MAINNET:"0x186a9",TESTNET:"0x186aa",SOLO_DEFAULT:"0xf6"},tB={MAINNET:"0x4a",TESTNET:"0x27",SOLO_DEFAULT:"0xf6"},tS=e=>e.isEqual(ev.HexUInt.of(tB.MAINNET))?ev.HexUInt.of(tC.MAINNET):e.isEqual(ev.HexUInt.of(tB.TESTNET))?ev.HexUInt.of(tC.TESTNET):e.isEqual(ev.HexUInt.of(tB.SOLO_DEFAULT))?ev.HexUInt.of(tC.SOLO_DEFAULT):e,tE=(e,t)=>{let a="string"==typeof e.transactions[0]?e.transactions.findIndex(e=>e===t):e.transactions.findIndex(e=>e.hash===t);if(-1===a)throw new U("getTransactionIndexIntoBlock()","Transaction not found in block.",{block:e,hash:t});return a},tM=(e,t,a)=>{let n=tE(tO.formatToRPCStandard(e,a),t),i=0;for(let t=0;t<n;t++)for(let a of e.transactions[t].outputs)i+=a.events.length;return i},tA=e=>null==e||"number"!=typeof e?"0x0":e===(0,ev.fromTransactionType)(ev.TransactionType.EIP1559)?"0x2":"0x0",tR=(e,t,a,n,i)=>{var s,r,o,l,c;let d="type"in e?e.type:0;return{blockHash:t,blockNumber:ev.Quantity.of(a).toString(),from:e.origin,gas:ev.Quantity.of(ev.HexUInt.of(e.gas).bi).toString(),chainId:n,hash:e.id,nonce:e.nonce,transactionIndex:ev.Quantity.of(i).toString(),input:null!=(l=null==(s=e.clauses[0])?void 0:s.data)?l:"",to:null!=(c=null==(r=e.clauses[0])?void 0:r.to)?c:null,value:(null==(o=e.clauses[0])?void 0:o.value)!==void 0?ev.Quantity.of(ev.HexUInt.of(e.clauses[0].value).bi).toString():"",type:tA(d),maxFeePerGas:void 0!==e.maxFeePerGas&&null!==e.maxFeePerGas?ev.Quantity.of(ev.HexUInt.of(e.maxFeePerGas).bi).toString():void 0,maxPriorityFeePerGas:void 0!==e.maxPriorityFeePerGas&&null!==e.maxPriorityFeePerGas?ev.Quantity.of(ev.HexUInt.of(e.maxPriorityFeePerGas).bi).toString():void 0,gasPrice:"0x0",v:"0x0",r:"0x0",s:"0x0",accessList:[],yParity:"0x0"}},tN={formatToRPCStandard:(e,t,a)=>tR(e,e.meta.blockID,e.meta.blockNumber,t,a),formatExpandedBlockToRPCStandard:(e,t,a,n)=>tR(e,t.id,t.number,n,a),formatTransactionReceiptToRPCStandard:function(e,t,a,n,i){let s=tE(tO.formatToRPCStandard(n,i),e),r=tM(n,e,i),o=[],l=r;t.outputs.forEach(e=>{e.events.forEach(e=>{o.push({blockHash:t.meta.blockID,blockNumber:ev.Quantity.of(t.meta.blockNumber).toString(),transactionHash:t.meta.txID,address:e.address,topics:e.topics.map(e=>e),data:e.data,removed:!1,transactionIndex:ev.Quantity.of(s).toString(),logIndex:ev.Quantity.of(l).toString()}),l++})});let c="type"in a?a.type:0;return{blockHash:t.meta.blockID,blockNumber:ev.Quantity.of(t.meta.blockNumber).toString(),contractAddress:t.outputs.length>0?t.outputs[0].contractAddress:null,from:a.origin,gasUsed:ev.Quantity.of(t.gasUsed).toString(),logs:o,status:t.reverted?"0x0":"0x1",to:a.clauses[0].to,transactionHash:t.meta.txID,transactionIndex:ev.Quantity.of(s).toString(),logsBloom:ev.Hex.of((0,ev.ZERO_BYTES)(256)).toString(),cumulativeGasUsed:"0x0",effectiveGasPrice:"0x0",type:tA(c)}}},tO={formatToRPCStandard:(e,t)=>{let a="string"==typeof e.transactions[0]?e.transactions:e.transactions.map((a,n)=>tN.formatExpandedBlockToRPCStandard(a,e,n,t));return{hash:e.id,parentHash:e.parentID,number:ev.Quantity.of(e.number).toString(),size:ev.Quantity.of(e.size).toString(),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot,transactionsRoot:e.txsRoot,timestamp:ev.Quantity.of(e.timestamp).toString(),gasLimit:ev.Quantity.of(e.gasLimit).toString(),gasUsed:ev.Quantity.of(e.gasUsed).toString(),transactions:a,miner:e.beneficiary,baseFeePerGas:e.baseFeePerGas,difficulty:"0x0",totalDifficulty:"0x0",uncles:[],sha3Uncles:ev.HexUInt.of((0,ev.ZERO_BYTES)(32)).toString(),nonce:ev.HexUInt.of((0,ev.ZERO_BYTES)(8)).toString(),logsBloom:ev.HexUInt.of((0,ev.ZERO_BYTES)(256)).toString(),extraData:"0x",...void 0!==e.baseFeePerGas?{baseFeePerGas:e.baseFeePerGas}:{},mixHash:ev.HexUInt.of((0,ev.ZERO_BYTES)(32)).toString()}}};function tH(e,t){return"call"===e?{...t,revertReason:""}:Object.fromEntries(Object.entries(t).map(e=>{let[t,a]=e;return[t,{...{balance:a.balance,code:a.code,storage:a.storage},nonce:0}]}))}var tU={formatToRPCStandard:tH},tF=e=>e.map(e=>({address:e.address,blockHash:e.meta.blockID,blockNumber:ev.HexInt.of(e.meta.blockNumber).toString(),data:e.data,logIndex:"0x0",removed:!1,topics:e.topics,transactionHash:e.meta.txID,transactionIndex:"0x0"})),tD=e=>(void 0!==e.address?"string"==typeof e.address?[e.address]:e.address:[void 0]).map(t=>{var a;return tG(t,null!=(a=e.topics)?a:[])}).flat(),tG=(e,t)=>{let a=[],n=[];t.forEach(e=>{Array.isArray(e)||a.push(e),Array.isArray(e)&&n.push(e)});let i=[];return a.length>0&&i.push(((e,t)=>{var a,n,i,s,r;return{address:t,topic0:null!=(a=e[0])?a:void 0,topic1:null!=(n=e[1])?n:void 0,topic2:null!=(i=e[2])?i:void 0,topic3:null!=(s=e[3])?s:void 0,topic4:null!=(r=e[4])?r:void 0}})(a,e)),n.forEach(t=>{t.forEach(t=>{i.push({address:e,topic0:t,topic1:void 0,topic2:void 0,topic3:void 0,topic4:void 0})})}),0===i.length&&i.push({address:e,topic0:void 0,topic1:void 0,topic2:void 0,topic3:void 0,topic4:void 0}),i},tL=null,tV=null,tq=null,tK=async e=>{try{if(null!==tL)return tL.toString();let t=await e.blocks.getGenesisBlock();if((null==t?void 0:t.id)===null||(null==t?void 0:t.id)===void 0)throw new X("eth_chainId()","The genesis block id is null or undefined. Unable to get the chain id.",{url:e.httpClient.baseURL});if(!ev.Hex.isValid(t.id))throw new X("eth_chainId()","The genesis block id is invalid. Unable to get the chain id.",{url:e.httpClient.baseURL});return tq=ev.Hex.of(t.id),tV=ev.HexUInt.of(tq.bytes.slice(-1)),(tL=tS(tV)).toString()}catch(t){throw new $("eth_chainId()",'Method "eth_chainId" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},tW=async e=>null!==tL?tL.toString():await tK(e),tj=async e=>null!==tV?tV.toString():await tK(e),tQ=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0])throw new X("eth_getTransactionReceipt",'Invalid input params for "eth_getTransactionReceipt" method. See '.concat(eW," for details."),{params:t});if(!ev.ThorId.isValid(t[0]))throw new X("eth_getTransactionReceipt","Invalid transaction ID given as input. Input must be an hex string of length 64.",{params:t});try{let[a]=t,n=await e.transactions.getTransactionReceipt(a);if(null===n)return null;{let t=await e.blocks.getBlockExpanded(n.meta.blockID),i=await e.transactions.getTransaction(a),s=await tK(e);return null!==i?tN.formatTransactionReceiptToRPCStandard(a,n,i,t,s):null}}catch(a){throw new $("eth_getTransactionReceipt()",'Method "eth_getTransactionReceipt" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},tJ=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"object"!=typeof t[1])throw new X("debug_traceTransaction",'Invalid input params for "debug_traceTransaction" method. See '.concat(eW," for details."),{params:t});let[a,n]=t;if(!ev.ThorId.isValid(a))throw new U("debug_traceTransaction()","Invalid transaction ID given as input. Input must be an hex string of length 64.",{transactionId:a});let i="callTracer"===n.tracer?"call":"prestate";try{let t=await tQ(e,[a]),n=await e.debug.traceTransactionClause({target:{blockId:ev.ThorId.of(null==t?void 0:t.blockHash),transaction:ev.ThorId.of(null==t?void 0:t.transactionHash),clauseIndex:0},config:{}},i);return tU.formatToRPCStandard(i,n)}catch(a){throw new $("debug_traceTransaction()",'Method "debug_traceTransaction" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},tz=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||!ev.ThorId.isValid(t[0])||"boolean"!=typeof t[1])throw new X("eth_getBlockByHash",'Invalid input params for "eth_getBlockByHash" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t,i="0x0";n&&(i=await tK(e));let s=n?await e.blocks.getBlockExpanded(a):await e.blocks.getBlockCompressed(a);return null!==s?tO.formatToRPCStandard(s,i):null}catch(a){throw new $("eth_getBlockByHash()",'Method "eth_getBlockByHash" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},tY=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||!ev.ThorId.isValid(t[0])||"object"!=typeof t[1])throw new X("debug_traceBlockByHash",'Invalid input params for "debug_traceBlockByHash" method. See https://www.quicknode.com/docs/ethereum/debug_traceBlockByHash for details.',{params:t});let[a,n]=t;try{let t=await tz(e,[a,!1]);if(null===t)return[];let i=[];for(let a of t.transactions){let t=await tJ(e,[a,{...n,timeout:"5s"}]);i.push({txHash:a,result:t})}return i}catch(a){throw new $("debug_traceBlockByHash()",'Method "debug_traceBlockByHash" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},tZ=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"boolean"!=typeof t[1])throw new X("eth_getBlockByNumber",'Invalid input params for "eth_getBlockByNumber" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t,i=tx(a),s="0x0";n&&(s=await tK(e));let r=n?await e.blocks.getBlockExpanded(i.toString()):await e.blocks.getBlockCompressed(i.toString());return null!==r?tO.formatToRPCStandard(r,s):null}catch(a){throw new $("eth_getBlockByNumber()",'Method "eth_getBlockByNumber" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},tX=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"object"!=typeof t[1])throw new X("debug_traceBlockByNumber",'Invalid input params for "debug_traceBlockByNumber" method. See https://www.quicknode.com/docs/ethereum/debug_traceBlockByNumber for details.',{params:t});let[a,n]=t;try{let t=await tZ(e,[a,!1]);if(null===t)return[];let i=[];for(let a of t.transactions){let t=await tJ(e,[a,{...n,timeout:"5s"}]);i.push({txHash:a,result:t})}return i}catch(a){throw new $("debug_traceBlockByNumber()",'Method "debug_traceBlockByNumber" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},t$=async(e,t)=>{if(3!==t.length||"object"!=typeof t[0]||"string"!=typeof t[1]||"object"!=typeof t[2])throw new X("debug_traceCall",'Invalid input params for "debug_traceCall" method. See '.concat(eW," for details."),{params:t});let a=t[0],n=t[2],i="callTracer"===n.tracer?"call":"prestate";try{let t=await e.debug.traceContractCall({options:{caller:a.from,gas:void 0!==a.gas?parseInt(a.gas,16):void 0,gasPrice:a.gasPrice},target:{to:"string"==typeof a.to?ev.Address.of(a.to):a.to,data:"string"==typeof a.data?ev.HexUInt.of(a.data):void 0},config:n.tracerConfig},i);return tU.formatToRPCStandard(i,t)}catch(a){throw new $("debug_traceCall()",'Method "debug_traceCall" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},t0=async()=>((0,eI.VeChainSDKLogger)("warning").log({title:"engine_getPayloadBodiesByHashV1",messages:['Method "engine_getPayloadBodiesByHashV1" has not been implemented yet.']}),await Promise.resolve("METHOD NOT IMPLEMENTED")),t1=async()=>((0,eI.VeChainSDKLogger)("warning").log({title:"engine_getPayloadBodiesByRangeV1",messages:['Method "engine_getPayloadBodiesByRangeV1" has not been implemented yet.']}),await Promise.resolve("METHOD NOT IMPLEMENTED")),t2=async e=>(null==e?void 0:e.wallet)!==void 0?await (null==e?void 0:e.wallet.getAddresses()):[],t3=async e=>{try{let t=await e.blocks.getBestBlockCompressed();return(null==t?void 0:t.number)!==void 0?"0x".concat(t.number.toString(16)):"0x0"}catch(t){throw new $("eth_blockNumber()",'Method "eth_blockNumber" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},t6=async(e,t)=>{if(2!==t.length||"object"!=typeof t[0]||"object"!=typeof t[1]&&"string"!=typeof t[1])throw new X("eth_call",'Invalid input params for "eth_call" method. See '.concat(eW," for details."),{params:t});try{var a,n,i,s;let[r,o]=t,l=await e.transactions.simulateTransaction([{to:null!=(a=r.to)?a:null,value:null!=(n=r.value)?n:"0x0",data:null!=(i=r.data)?i:"0x0"}],{revision:tx(o),gas:void 0!==r.gas?parseInt(r.gas,16):void 0,gasPrice:null!=(s=r.gasPrice)?s:r.gasPrice,caller:r.from});if(l[0].reverted)throw new en(l[0].vmError,l[0].data);return l[0].data}catch(a){throw a instanceof $||a instanceof en?a:a instanceof q?new $("eth_call()",'Method "eth_call" failed due to network communication error.',{params:k(t),url:e.httpClient.baseURL,networkError:!0,networkErrorType:a.data.networkErrorType,innerError:k(a)}):new $("eth_call()",'Method "eth_call" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},t5=async(e,t)=>{if(t.length<1||t.length>2||"object"!=typeof t[0])throw new X("eth_estimateGas",'Invalid input params for "eth_estimateGas" method. See '.concat(eW," for details."),{params:t});try{var a,n,i,s,r,o,l,c;1===t.length&&t.push("latest");let[d,u]=t,h=tx(u),g=await e.transactions.estimateGas([{to:null!=(a=d.to)?a:null,value:null!=(n=d.value)?n:"0x0",data:null!=(i=d.data)?i:"0x"}],d.from,{revision:h});if(g.reverted){let t=await e.transactions.simulateTransaction([{to:null!=(s=d.to)?s:null,value:null!=(r=d.value)?r:"0x0",data:null!=(o=d.data)?o:"0x"}],{revision:h,caller:d.from}),a=null!=(c=null!=(l=g.revertReasons.find(e=>""!==e))?l:g.vmErrors.find(e=>""!==e))?c:"execution reverted",n=t[0].data||"0x";throw n.startsWith("0x")||(n="0x"+n),new en(a.toString(),n)}return ev.HexUInt.of(g.totalGas).toString(!0)}catch(a){throw a instanceof en?a:a instanceof q?new $("eth_estimateGas()",'Method "eth_estimateGas" failed due to network communication error.',{params:k(t),url:e.httpClient.baseURL,networkError:!0,networkErrorType:a.data.networkErrorType,innerError:k(a)}):new $("eth_estimateGas()",'Method "eth_estimateGas" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},t4=async(e,t,a)=>{if(!Array.isArray(t)||t.length<2)throw new X("eth_feeHistory",'Invalid input params for "eth_feeHistory" method.',{params:t});if(!await e.forkDetector.detectGalactica())throw new ea("eth_feeHistory",'Method "eth_feeHistory" is not available before Galactica hardfork.',{url:e.httpClient.baseURL});let n=t[0],i=t[1],s=t[2];if("string"!=typeof i&&"number"!=typeof i)throw new X("eth_feeHistory","Invalid newestBlock parameter. Must be a string or number.",{newestBlock:i});let r=Number(n);if(!Number.isFinite(r)||r<=0)throw new X("eth_feeHistory","blockCount must be a positive finite number.",{blockCount:n,blockCountNum:r});let o=tx(i);try{return await e.gas.getFeeHistory({blockCount:r,newestBlock:o.toString(),rewardPercentiles:s})}catch(t){throw t instanceof X?t:new $("eth_feeHistory()",'Method "eth_feeHistory" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},t8=async e=>{if(!await e.forkDetector.detectGalactica()){let{result:{plain:t}}=await e.contracts.getLegacyBaseGasPrice();return ev.HexUInt.of(t).toString(!0)}let t=await e.blocks.getBestBlockCompressed(),a=null==t?void 0:t.baseFeePerGas;if(void 0===a)throw new $("eth_gasPrice","Last block should have baseFeePerGas defined.",{params:t,url:e.httpClient.baseURL});let n=await e.gas.getMaxPriorityFeePerGas(),i=ev.HexUInt.of(a).bi,s=ev.HexUInt.of(n).bi;return ev.HexUInt.of(i+s).toString(!0)},t9=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"object"!=typeof t[1]&&"string"!=typeof t[1])throw new X("eth_getBalance",'Invalid input params for "eth_getBalance" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t;return(await e.accounts.getAccount(ev.Address.of(a),{revision:tx(n)})).balance}catch(a){throw new $("eth_getBalance()",'Method "eth_getBalance" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},t7=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0])throw new X("eth_getBlockReceipts",'Invalid input params for "eth_getBlockReceipts" method. See '.concat(eW," for details."),{params:t});try{let[a]=t,n=null;if(n=ev.HexUInt.isValid(a)&&66===a.length?await tz(e,[a,!0]):await tZ(e,[a,!0]),null===n)return null;let i=n.transactions,s=[];for(let t of i){let a=await tQ(e,[t.hash]);s.push(a)}return s}catch(a){throw new $("eth_getBlockReceipts()",'Method "eth_getBlockReceipts" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},ae=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0]||!ev.ThorId.isValid(t[0]))throw new X("eth_getBlockTransactionCountByHash",'Invalid input params for "eth_getBlockTransactionCountByHash" method. See '.concat(eW," for details."),{params:t});let a=await tz(e,[t[0],!1]);return null!==a?a.transactions.length:0},at=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0])throw new X("eth_getBlockTransactionCountByNumber",'Invalid input params for "eth_getBlockTransactionCountByNumber" method. See '.concat(eW," for details."),{params:t});let a=await tZ(e,[t[0],!0]);return null!==a?a.transactions.length:0},aa=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"object"!=typeof t[1]&&"string"!=typeof t[1])throw new X("eth_getCode",'Invalid input params for "eth_getCode" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t;return(await e.accounts.getBytecode(ev.Address.of(a),{revision:tx(n)})).toString()}catch(a){throw new $("eth_getCode()",'Method "eth_getCode" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},an=async()=>((0,eI.VeChainSDKLogger)("warning").log({title:"eth_getFilterChanges",messages:['Method "eth_getFilterChanges" has not been implemented yet.']}),await Promise.resolve("METHOD NOT IMPLEMENTED")),ai=async()=>((0,eI.VeChainSDKLogger)("warning").log({title:"eth_getFilterLogs",messages:['Method "eth_getFilterLogs" has not been implemented yet.']}),await Promise.resolve("METHOD NOT IMPLEMENTED")),as=async(e,t)=>{if(1!==t.length||"object"!=typeof t[0])throw new X("eth_getLogs",'Invalid input params for "eth_getLogs" method. See '.concat(eW," for details."),{params:t});let[a]=t;try{let t=await e.blocks.getBestBlockCompressed(),n=tD({address:null!==a.address?a.address:void 0,topics:a.topics}),i=await e.logs.filterRawEventLogs({range:{unit:"block",from:void 0!==a.fromBlock?parseInt(a.fromBlock,16):t.number,to:void 0!==a.toBlock?parseInt(a.toBlock,16):t.number},criteriaSet:n,order:"asc",options:{offset:0,limit:1e3}});return tF(i)}catch(a){throw new $("eth_getLogs()",'Method "eth_getLogs" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},ar=async(e,t)=>{if(3!==t.length||"string"!=typeof t[0]||"string"!=typeof t[1]&&"bigint"!=typeof t[1]||null!=t[2]&&"object"!=typeof t[2]&&"string"!=typeof t[2])throw new X("eth_getStorageAt",'Invalid input params for "eth_getStorageAt" method. See '.concat(eW," for details."),{params:t});try{null!=t[2]||(t[2]="latest");let[a,n,i]=t;return(await e.accounts.getStorageAt(ev.Address.of(a),ev.ThorId.of(n),{revision:tx(i)})).toString()}catch(a){throw new $("eth_getStorageAt()",'Method "eth_getStorageAt" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},ao=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0])throw new X("eth_getTransactionByHash",'Invalid input params for "eth_getTransactionByHash" method. See '.concat(eW," for details."),{params:t});try{let[a]=t,n=await e.transactions.getTransaction(a);if(null===n)return null;let i=await tz(e,[n.meta.blockID,!1]);if(null===i)return null;let s=tE(i,a),r=await tK(e);return tN.formatToRPCStandard(n,r,s)}catch(a){throw new $("eth_getTransactionByHash()",'Method "eth_getTransactionByHash" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},al=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"string"!=typeof t[1])throw new X("eth_getTransactionByBlockHashAndIndex",'Invalid input params for "eth_getTransactionByBlockHashAndIndex" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t;for(let t of(await tz(e,[a,!1])).transactions){let a=await ao(e,[t]);if(a.transactionIndex===n)return a}return null}catch(a){throw new $("eth_getTransactionByBlockHashAndIndex()",'Method "eth_getTransactionByBlockHashAndIndex" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},ac=async(e,t)=>{if(2!==t.length||"string"!=typeof t[0]||"string"!=typeof t[1])throw new X("eth_getTransactionByBlockNumberAndIndex",'Invalid input params for "eth_getTransactionByBlockNumberAndIndex" method. See '.concat(eW," for details."),{params:t});try{let[a,n]=t;for(let t of(await tZ(e,[a,!1])).transactions){let a=await ao(e,[t]);if(a.transactionIndex===n)return a}return null}catch(a){throw new $("eth_getTransactionByBlockNumberAndIndex()",'Method "eth_getTransactionByBlockNumberAndIndex" failed.',{params:k(t),url:e.httpClient.baseURL,innerError:k(a)})}},ad=async e=>{if("string"!=typeof e[0]||"object"!=typeof e[1]&&"string"!=typeof e[1])throw new X("eth_getTransactionCount",'Invalid input params for "eth_getTransactionCount" method. See '.concat(eW," for details."),{params:e});if(!ev.Address.isValid(e[0]))throw new X("eth_getTransactionCount","Invalid address, expected a 20 bytes address string.",{params:e});return await Promise.resolve(ev.Hex.of(ev.Secp256k1.randomBytes(6)).toString())},au=async e=>{if(2!==e.length||"string"!=typeof e[0]||!ev.ThorId.isValid(e[0])||"string"!=typeof e[1])throw new X("eth_getUncleByBlockHashAndIndex",'Invalid input params for "eth_getUncleByBlockHashAndIndex" method. See https://docs.infura.io/api/networks/ethereum/json-rpc-methods/eth_getunclebyblockhashandindex for details.',{params:e});return await Promise.resolve(null)},ah=async e=>{if(2!==e.length||"string"!=typeof e[0]||"string"!=typeof e[1])throw new X("eth_getUncleByBlockNumberAndIndex",'Invalid input params for "eth_getUncleByBlockNumberAndIndex" method. See https://docs.infura.io/api/networks/ethereum/json-rpc-methods/eth_getunclebyblocknumberandindex for details.',{params:e});return await Promise.resolve(null)},ag=async e=>{if(1!==e.length||"string"!=typeof e[0]||!ev.ThorId.isValid(e[0]))throw new X("eth_getUncleCountByBlockHash",'Invalid input params for "eth_getUncleCountByBlockHash" method. See '.concat(eW," for details."),{params:e});return await Promise.resolve(0)},ap=async e=>{if(1!==e.length||"string"!=typeof e[0])throw new X("eth_getUncleCountByBlockNumber",'Invalid input params for "eth_getUncleCountByBlockNumber" method. See '.concat(eW," for details."),{params:e});return await Promise.resolve(0)},ay=async(e,t,a)=>{try{if(!await e.forkDetector.detectGalactica())throw new ea("eth_maxPriorityFeePerGas",'Method "eth_maxPriorityFeePerGas" is not available before Galactica hardfork.',{url:e.httpClient.baseURL});return await e.gas.getMaxPriorityFeePerGas()}catch(t){throw t instanceof $||t instanceof ea?t:new $("eth_maxPriorityFeePerGas()",'Method "eth_maxPriorityFeePerGas" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},af=async e=>{let t=await t2(e);if(0===t.length)throw new X("eth_requestAccounts()",'Method "eth_requestAccounts" failed.',{provider:k(e)});return t},am=async(e,t)=>{if(1!==t.length||"string"!=typeof t[0])throw new X("eth_sendRawTransaction()",'Invalid input params for "eth_sendRawTransaction" method. See '.concat(eW," for details."),{params:t});if(!ev.Hex.isValid0x(t[0]))throw new X("eth_sendRawTransaction()","Invalid transaction encoded data given as input. Input must be a hex string.",{params:t});try{let[a]=t;return(await e.transactions.sendRawTransaction(a)).id}catch(a){throw new $("eth_sendRawTransaction()",'Method "eth_sendRawTransaction" failed.',{params:k(t),url:e.httpClient.baseURL},a)}},av=async(e,t,a)=>{if(void 0===t||1!==t.length||"object"!=typeof t[0])throw new X("eth_sendTransaction",'Invalid input params for "eth_sendTransaction" method. See '.concat(eW," for details."),{params:t});if((null==a?void 0:a.wallet)===void 0)throw new X("eth_sendTransaction","Provider must be defined with a wallet. Ensure that the provider is defined and connected to the network.",{provider:a});if(void 0===t[0].from)throw new X("eth_sendTransaction","From field is required in the transaction object.",{provider:a});void 0===t[0].value&&(t[0].value="0x0");let[n]=t,i=await tW(e);if(null!=n.chainId&&n.chainId!==i)throw new X("eth_sendTransaction","ChainId in the transaction object does not match the chainId of the network. Expected: ".concat(i,", Received: ").concat(n.chainId),{chainId:n.chainId});try{return await (await a.getSigner(n.from)).sendTransaction(n)}catch(a){throw a instanceof q?new $("eth_sendTransaction()",'Method "eth_sendTransaction" failed due to network communication error.',{params:k(t),url:e.httpClient.baseURL,networkError:!0,networkErrorType:a.data.networkErrorType},a):new $("eth_sendTransaction()",'Method "eth_sendTransaction" failed.',{params:k(t),url:e.httpClient.baseURL},a)}},aw=async(e,t,a)=>{if(1!==t.length||"object"!=typeof t[0])throw new X("eth_signTransaction",'Invalid input params for "eth_signTransaction" method. See '.concat(eW," for details."),{params:t});if((null==a?void 0:a.wallet)===void 0)throw new X("eth_signTransaction","Provider must be defined with a wallet. Ensure that the provider is defined and connected to the network.",{provider:a});if(void 0===t[0].from)throw new X("eth_signTransaction","From field is required in the transaction object.",{provider:a});let[n]=t;try{return await (await a.getSigner(n.from)).signTransaction(n)}catch(a){throw new $("eth_signTransaction()",'Method "eth_signTransaction" failed.',{params:k(t),url:e.httpClient.baseURL},a)}},ab=async(e,t,a)=>{if(2!==t.length||"string"!=typeof t[0]||!ev.Address.isValid(t[0])||"object"!=typeof t[1]&&"string"!=typeof t[1])throw new X("eth_signTypedDataV4",'Invalid input params for "eth_signTypedDataV4" method. See https://docs.metamask.io/wallet/reference/eth_signtypeddata_v4/ for details.',{params:t});if((null==a?void 0:a.wallet)===void 0||await a.getSigner(t[0])===null)throw new X("eth_signTypedDataV4","Provider must be defined with a wallet. Ensure that the provider is defined, connected to the network and has the wallet with the address ".concat(t[0]," into it."),{provider:a});let[n]=t,i;if("string"==typeof t[1])try{let e=JSON.parse(t[1]),a="object"==typeof e&&null!==e&&!Array.isArray(e),n="primaryType"in e&&"domain"in e&&"types"in e&&"message"in e;if(!a||!n)throw new X("eth_signTypedDataV4","Invalid typedData structure",{params:t});i=e}catch(e){throw new X("eth_signTypedData_v4","Invalid JSON string for typed data parameter",{params:t},e)}else i=t[1];if("object"!=typeof i.domain||null===i.domain)throw new X("eth_signTypedDataV4","Invalid typedData structure",{params:t});try{return await (await a.getSigner(n)).signTypedData(i.domain,i.types,i.message,i.primaryType)}catch(a){throw new $("eth_signTypedDataV4",'Method "eth_signTypedDataV4" failed.',{params:k(t),url:e.httpClient.baseURL},a)}},a_=async(e,t,a)=>{if(void 0===a)throw new $("eth_subscribe()",'Method "eth_subscribe" failed. Provider is not defined.',{url:e.httpClient.baseURL,params:k(t)});if("newHeads"!==t[0]&&"logs"!==t[0])throw new X("eth_subscribe()",'Method "eth_subscribe" failed. Invalid subscription type param.',{url:e.httpClient.baseURL,params:k(t)});if(void 0===a.getPollInstance()){let n=await e.blocks.getBestBlockCompressed();if(null!=n)a.subscriptionManager.currentBlockNumber=n.number;else throw new et("eth_subscribe()",'Method "eth_subscribe" failed. Best block not available.',{url:e.httpClient.baseURL,params:k(t)});a.startSubscriptionsPolling()}let n=ev.Hex.random(16).digits;return t.includes("newHeads")&&(a.subscriptionManager.newHeadsSubscription={subscriptionId:n,subscription:{type:"newHeads"}}),t.includes("logs")&&a.subscriptionManager.logSubscriptions.set(n,{type:"logs",options:t[1]}),n},aT=async e=>{try{let t=await e.blocks.getBestBlockCompressed(),a=await e.blocks.getGenesisBlock(),n=null!==a?ev.HexInt.of(Math.floor((Date.now()-a.timestamp)/1e4)).toString():null;if(null!==t){if(Math.floor(Date.now()/1e3)-t.timestamp<11e3)return!1;let a=await tK(e);return{currentBlock:tO.formatToRPCStandard(t,a),highestBlock:n,startingBlock:null}}return{currentBlock:null,highestBlock:n,startingBlock:null}}catch(t){throw new $("eth_syncing()",'Method "eth_syncing" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},aP=async(e,t)=>{let a=!1;if(void 0===t)throw new $("eth_unsubscribe()",'Method "eth_unsubscribe" failed. Provider is not defined.',{params:k(e)});let n=e[0];return void 0!==t.subscriptionManager.newHeadsSubscription&&n===t.subscriptionManager.newHeadsSubscription.subscriptionId?(t.subscriptionManager.newHeadsSubscription=void 0,a=!0):a=t.subscriptionManager.logSubscriptions.delete(n),t.isThereActiveSubscriptions()||t.stopSubscriptionsPolling(),await Promise.resolve(a)},ak=async e=>{try{let t=await e.blocks.getBestBlockCompressed();if(null===t)throw new $("evm_mine()",'Method "evm_mine" failed. No best block found.',{url:e.httpClient.baseURL});return await ez.SyncPoll(()=>e.blocks.getHeadBlock()).waitUntil(e=>e!==t),null}catch(t){throw t instanceof $?t:new $("evm_mine()",'Method "evm_mine" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},aI=async e=>{try{return await e.nodes.isHealthy()}catch(t){throw new $("net_listening()",'Method "net_listening" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},ax=async e=>{try{return(await e.nodes.getNodes()).length}catch(t){throw new $("net_peerCount()",'Method "net_peerCount" failed.',{url:e.httpClient.baseURL,innerError:k(t)})}},aC=async e=>await tK(e),aB=async()=>await Promise.resolve({}),aS=async e=>{if(1!==e.length||"string"!=typeof e[0]||!ev.Address.isValid(e[0]))throw new X("txpool_contentFrom()",'Invalid input params for "txpool_contentFrom" method. See https://www.quicknode.com/docs/ethereum/txpool_contentFrom for details.',{params:e});return await Promise.resolve({})},aE=async()=>await Promise.resolve({}),aM=async()=>await Promise.resolve({}),aA=async()=>await Promise.resolve("thor"),aR=async e=>{if(1!==e.length||"string"!=typeof e[0]||!ev.Hex.isValid(e[0]))throw new X("web3_sha3","Invalid input params for \"web3_sha3\" method. See 'https://docs.alchemy.com/reference/web3-sha3' for details.",{params:e});return await Promise.resolve(ev.Keccak256.of(e[0]).toString())},aN=(e,t)=>({eth_blockNumber:async()=>await t3(e),eth_chainId:async()=>await tK(e),eth_getBalance:async t=>await t9(e,t),eth_getCode:async t=>await aa(e,t),eth_getStorageAt:async t=>await ar(e,t),eth_estimateGas:async t=>await t5(e,t),eth_call:async t=>await t6(e,t),eth_sendRawTransaction:async t=>await am(e,t),eth_getLogs:async t=>await as(e,t),eth_getBlockByHash:async t=>await tz(e,t),eth_getBlockByNumber:async t=>await tZ(e,t),eth_accounts:async()=>await t2(t),eth_gasPrice:async()=>await t8(e),eth_getTransactionByHash:async t=>await ao(e,t),eth_getTransactionCount:async e=>await ad(e),eth_getTransactionReceipt:async t=>await tQ(e,t),eth_sendTransaction:async a=>await av(e,a,t),eth_syncing:async()=>await aT(e),net_version:async()=>await aC(e),web3_clientVersion:async()=>await aA(),eth_subscribe:async a=>await a_(e,a,t),eth_unsubscribe:async e=>await aP(e,t),debug_traceTransaction:async t=>await tJ(e,t),debug_traceCall:async t=>await t$(e,t),evm_increaseTime:async()=>await ak(e),evm_mine:async()=>await ak(e),eth_getBlockTransactionCountByHash:async t=>await ae(e,t),eth_getBlockTransactionCountByNumber:async t=>await at(e,t),eth_getTransactionByBlockHashAndIndex:async t=>await al(e,t),eth_getTransactionByBlockNumberAndIndex:async t=>await ac(e,t),eth_getUncleByBlockHashAndIndex:async e=>await au(e),eth_getUncleByBlockNumberAndIndex:async e=>await ah(e),eth_getUncleCountByBlockHash:async e=>await ag(e),eth_getUncleCountByBlockNumber:async e=>await ap(e),eth_requestAccounts:async()=>await af(t),net_listening:async()=>await aI(e),net_peerCount:async()=>await ax(e),eth_getBlockReceipts:async t=>await t7(e,t),eth_signTransaction:async a=>await aw(e,a,t),web3_sha3:async e=>await aR(e),txpool_inspect:async()=>await aE(),txpool_content:async()=>await aB(),txpool_contentFrom:async e=>await aS(e),txpool_status:async()=>await aM(),debug_traceBlockByHash:async t=>await tY(e,t),debug_traceBlockByNumber:async t=>await tX(e,t),eth_signTypedData_v4:async a=>await ab(e,a,t),eth_maxPriorityFeePerGas:async t=>await ay(e),eth_feeHistory:async t=>await t4(e,t)}),aO=class extends ew.EventEmitter{destroy(){this.thorClient.destroy(),void 0!==this.pollInstance&&(this.pollInstance.stopListen(),this.pollInstance=void 0)}async request(e){if(!Object.values(eN).map(e=>e.toString()).includes(e.method))throw new Z("VeChainProvider.request()","Method not found",{code:-32601,message:"Method not found"});let t=aN(this.thorClient,this);if(!(e.method in t))throw new ea(e.method,"Method not implemented",{code:-32004,message:"Method not supported"});return await t[e.method](e.params)}startSubscriptionsPolling(){let e=!1;return void 0===this.pollInstance&&(this.pollInstance=ez.createEventPoll(async()=>{let e=[],t=await this.getCurrentBlock();if(null!==t){if(void 0!==this.subscriptionManager.newHeadsSubscription&&e.push({method:"eth_subscription",params:{subscription:this.subscriptionManager.newHeadsSubscription.subscriptionId,result:t}}),this.subscriptionManager.logSubscriptions.size>0){let t=await this.getLogsRPC();e.push(...t)}this.subscriptionManager.currentBlockNumber++}return e},5e3).onData(e=>{e.forEach(e=>{this.emit("message",e)})}),this.pollInstance.startListen(),e=!0),e}stopSubscriptionsPolling(){let e=!1;return void 0!==this.pollInstance&&(this.pollInstance.stopListen(),this.pollInstance=void 0,e=!0),e}isThereActiveSubscriptions(){return this.subscriptionManager.logSubscriptions.size>0||void 0!==this.subscriptionManager.newHeadsSubscription}getPollInstance(){return this.pollInstance}async getLogsRPC(){let e=Array.from(this.subscriptionManager.logSubscriptions.entries()).map(async e=>{var t,a;let[n,i]=e,s=ev.HexInt.of(this.subscriptionManager.currentBlockNumber).toString(),r={address:null==(t=i.options)?void 0:t.address,fromBlock:s,toBlock:s,topics:null==(a=i.options)?void 0:a.topics};return{method:"eth_subscription",params:{subscription:n,result:await as(this.thorClient,[r])}}});return(await Promise.all(e)).filter(e=>e.params.result.length>0)}async getCurrentBlock(){let e=null;if(this.isThereActiveSubscriptions()){let t=await this.thorClient.blocks.getBlockCompressed(this.subscriptionManager.currentBlockNumber);null!=t&&(e=t)}return e}async getSigner(e){var t;return void 0===this.wallet?null:await (null==(t=this.wallet)?void 0:t.getSigner(this,e))}async resolveName(e){return await e1.resolveName(this.thorClient,e)}async lookupAddress(e){return await e1.lookupAddress(this.thorClient,e)}constructor(e,t,a=!1){super(),(0,T._)(this,"subscriptionManager",{logSubscriptions:new Map,currentBlockNumber:0}),(0,T._)(this,"pollInstance",void 0),this.thorClient=e,this.wallet=t,this.enableDelegation=a}},aH=class extends aO{async send(e,t){return await this.request({method:e,params:t})}async sendAsync(e,t){try{let a=await this.request({method:e.method,params:e.params});t(null,{id:e.id,jsonrpc:"2.0",result:a})}catch(a){t(a,{id:e.id,jsonrpc:"2.0"})}}async request(e){let t=this.rpcConfiguration.ethGetTransactionCountMustReturn0&&"eth_getTransactionCount"===e.method;try{if(this.debug){let t=await this.wallet.getAddresses(),a=await this.wallet.getGasPayer();(0,eI.VeChainSDKLogger)("log").log({title:"Sending request - ".concat(e.method),messages:["params: ".concat(k(e.params)),"accounts: ".concat(k(t)),"gasPayer: ".concat(k(a)),"url: ".concat(this.thorClient.httpClient.baseURL)]})}let a=t?"0x0":await super.request({method:e.method,params:e.params});return this.debug&&(0,eI.VeChainSDKLogger)("log").log({title:"Get request - ".concat(e.method," result"),messages:["result: ".concat(k(a))]}),a}catch(t){if(this.debug&&(0,eI.VeChainSDKLogger)("error").log(new $(e.method,"Error on request - ".concat(e.method),{args:e})),t instanceof en)throw t;if(t instanceof C)throw this.buildHardhatErrorFunctionCallback("Error on request ".concat(e.method,": ").concat(t.innerError),t)}}constructor(e,t,a,n=!1,i=!1,s={ethGetTransactionCountMustReturn0:!1}){super(new tm(new eA(t)),e,i),(0,T._)(this,"debug",void 0),(0,T._)(this,"buildHardhatErrorFunctionCallback",void 0),(0,T._)(this,"rpcConfiguration",void 0),this.debug=n,this.rpcConfiguration=s,this.buildHardhatErrorFunctionCallback=a}},aU=e.i(89092),aF=e.i(83646),aD=e.i(18325),aG=e.i(84622),aL=e.i(63283),aV=e.i(98488),aq=e.i(81221),aK=e.i(95848),aW=(a=new WeakMap,class extends aK.Subscribable{build(e,t,a){var n;let i=t.queryKey,s=null!=(n=t.queryHash)?n:(0,aL.hashQueryKeyByOptions)(i,t),r=this.get(s);return r||(r=new aV.Query({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(r)),r}add(e){(0,aU._)(this,a).has(e.queryHash)||((0,aU._)(this,a).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=(0,aU._)(this,a).get(e.queryHash);t&&(e.destroy(),t===e&&(0,aU._)(this,a).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){aq.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return(0,aU._)(this,a).get(e)}getAll(){return[...(0,aU._)(this,a).values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,aL.matchQuery)(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,aL.matchQuery)(e,t)):t}notify(e){aq.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){aq.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){aq.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}constructor(e={}){super(),(0,aF._)(this,a,{writable:!0,value:void 0}),this.config=e,(0,aD._)(this,a,new Map)}}),aj=e.i(28585),aQ=e.i(83253),aJ=e.i(25696),az=e.i(53553),aY=(n=new WeakMap,i=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakSet,class extends aJ.Removable{setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){(0,aU._)(this,i).includes(e)||((0,aU._)(this,i).push(e),this.clearGcTimeout(),(0,aU._)(this,s).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){(0,aD._)(this,i,(0,aU._)(this,i).filter(t=>t!==e)),this.scheduleGc(),(0,aU._)(this,s).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){(0,aU._)(this,i).length||("pending"===this.state.status?this.scheduleGc():(0,aU._)(this,s).remove(this))}continue(){var e,t;return null!=(t=null==(e=(0,aU._)(this,r))?void 0:e.continue())?t:this.execute(this.state.variables)}async execute(e){var t,a,i,l,c,d,u,h,g,p,y,f,m,v,w,b,_,T,P,k,I;let x=()=>{(0,aj._)(this,o,aZ).call(this,{type:"continue"})},C={client:(0,aU._)(this,n),meta:this.options.meta,mutationKey:this.options.mutationKey};(0,aD._)(this,r,(0,az.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,C):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{(0,aj._)(this,o,aZ).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{(0,aj._)(this,o,aZ).call(this,{type:"pause"})},onContinue:x,retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>(0,aU._)(this,s).canRun(this)}));let B="pending"===this.state.status,S=!(0,aU._)(this,r).canStart();try{if(B)x();else{(0,aj._)(this,o,aZ).call(this,{type:"pending",variables:e,isPaused:S}),await (null==(p=(y=(0,aU._)(this,s).config).onMutate)?void 0:p.call(y,e,this,C));let t=await (null==(f=(m=this.options).onMutate)?void 0:f.call(m,e,C));t!==this.state.context&&(0,aj._)(this,o,aZ).call(this,{type:"pending",context:t,variables:e,isPaused:S})}let t=await (0,aU._)(this,r).start();return await (null==(a=(i=(0,aU._)(this,s).config).onSuccess)?void 0:a.call(i,t,e,this.state.context,this,C)),await (null==(l=(c=this.options).onSuccess)?void 0:l.call(c,t,e,this.state.context,C)),await (null==(d=(u=(0,aU._)(this,s).config).onSettled)?void 0:d.call(u,t,null,this.state.variables,this.state.context,this,C)),await (null==(h=(g=this.options).onSettled)?void 0:h.call(g,t,null,e,this.state.context,C)),(0,aj._)(this,o,aZ).call(this,{type:"success",data:t}),t}catch(t){try{throw await (null==(v=(w=(0,aU._)(this,s).config).onError)?void 0:v.call(w,t,e,this.state.context,this,C)),await (null==(b=(_=this.options).onError)?void 0:b.call(_,t,e,this.state.context,C)),await (null==(T=(P=(0,aU._)(this,s).config).onSettled)?void 0:T.call(P,void 0,t,this.state.variables,this.state.context,this,C)),await (null==(k=(I=this.options).onSettled)?void 0:k.call(I,void 0,t,e,this.state.context,C)),t}finally{(0,aj._)(this,o,aZ).call(this,{type:"error",error:t})}}finally{(0,aU._)(this,s).runNext(this)}}constructor(e){super(),(0,aQ._)(this,o),(0,aF._)(this,n,{writable:!0,value:void 0}),(0,aF._)(this,i,{writable:!0,value:void 0}),(0,aF._)(this,s,{writable:!0,value:void 0}),(0,aF._)(this,r,{writable:!0,value:void 0}),(0,aD._)(this,n,e.client),this.mutationId=e.mutationId,(0,aD._)(this,s,e.mutationCache),(0,aD._)(this,i,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}});function aZ(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),aq.notifyManager.batch(()=>{(0,aU._)(this,i).forEach(t=>{t.onMutationUpdate(e)}),(0,aU._)(this,s).notify({mutation:this,type:"updated",action:e})})}var aX=aK,a$=(l=new WeakMap,c=new WeakMap,d=new WeakMap,class extends aX.Subscribable{build(e,t,a){let n=new aY({client:e,mutationCache:this,mutationId:++(0,aG._)(this,d).value,options:e.defaultMutationOptions(t),state:a});return this.add(n),n}add(e){(0,aU._)(this,l).add(e);let t=a0(e);if("string"==typeof t){let a=(0,aU._)(this,c).get(t);a?a.push(e):(0,aU._)(this,c).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if((0,aU._)(this,l).delete(e)){let t=a0(e);if("string"==typeof t){let a=(0,aU._)(this,c).get(t);if(a)if(a.length>1){let t=a.indexOf(e);-1!==t&&a.splice(t,1)}else a[0]===e&&(0,aU._)(this,c).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=a0(e);if("string"!=typeof t)return!0;{let a=(0,aU._)(this,c).get(t),n=null==a?void 0:a.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=a0(e);if("string"!=typeof t)return Promise.resolve();{var a,n;let i=null==(a=(0,aU._)(this,c).get(t))?void 0:a.find(t=>t!==e&&t.state.isPaused);return null!=(n=null==i?void 0:i.continue())?n:Promise.resolve()}}clear(){aq.notifyManager.batch(()=>{(0,aU._)(this,l).forEach(e=>{this.notify({type:"removed",mutation:e})}),(0,aU._)(this,l).clear(),(0,aU._)(this,c).clear()})}getAll(){return Array.from((0,aU._)(this,l))}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,aL.matchMutation)(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>(0,aL.matchMutation)(e,t))}notify(e){aq.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return aq.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(aL.noop))))}constructor(e={}){super(),(0,aF._)(this,l,{writable:!0,value:void 0}),(0,aF._)(this,c,{writable:!0,value:void 0}),(0,aF._)(this,d,{writable:!0,value:void 0}),this.config=e,(0,aD._)(this,l,new Set),(0,aD._)(this,c,new Map),(0,aD._)(this,d,0)}});function a0(e){var t;return null==(t=e.options.scope)?void 0:t.id}var a1=e.i(16104),a2=e.i(94350);function a3(e){return{onFetch:(t,a)=>{var n,i,s,r,o;let l=t.options,c=null==(s=t.fetchOptions)||null==(i=s.meta)||null==(n=i.fetchMore)?void 0:n.direction,d=(null==(r=t.state.data)?void 0:r.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[],h={pages:[],pageParams:[]},g=0,p=async()=>{let a=!1,n=(0,aL.ensureQueryFn)(t.options,t.fetchOptions),i=async(e,i,s)=>{if(a)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);let r=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",()=>{a=!0}),t.signal)}),e})(),o=await n(r),{maxPages:l}=t.options,c=s?aL.addToStart:aL.addToEnd;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,i,l)}};if(c&&d.length){let e="backward"===c,t={pages:d,pageParams:u},a=(e?function(e,t){var a;let{pages:n,pageParams:i}=t;return n.length>0?null==(a=e.getPreviousPageParam)?void 0:a.call(e,n[0],n,i[0],i):void 0}:a6)(l,t);h=await i(t,a,e)}else{let t=null!=e?e:d.length;do{var s;let e=0===g?null!=(s=u[0])?s:l.initialPageParam:a6(l,h);if(g>0&&null==e)break;h=await i(h,e),g++}while(g<t)}return h};t.options.persister?t.fetchFn=()=>{var e,n;return null==(e=(n=t.options).persister)?void 0:e.call(n,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=p}}}function a6(e,t){let{pages:a,pageParams:n}=t,i=a.length-1;return a.length>0?e.getNextPageParam(a[i],a,n[i],n):void 0}var a5=(u=new WeakMap,h=new WeakMap,g=new WeakMap,p=new WeakMap,y=new WeakMap,f=new WeakMap,m=new WeakMap,v=new WeakMap,class{mount(){(0,aG._)(this,f).value++,1===(0,aU._)(this,f)&&((0,aD._)(this,m,a1.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),(0,aU._)(this,u).onFocus())})),(0,aD._)(this,v,a2.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),(0,aU._)(this,u).onOnline())})))}unmount(){var e,t;(0,aG._)(this,f).value--,0===(0,aU._)(this,f)&&(null==(e=(0,aU._)(this,m))||e.call(this),(0,aD._)(this,m,void 0),null==(t=(0,aU._)(this,v))||t.call(this),(0,aD._)(this,v,void 0))}isFetching(e){return(0,aU._)(this,u).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return(0,aU._)(this,h).findAll({...e,status:"pending"}).length}getQueryData(e){var t;let a=this.defaultQueryOptions({queryKey:e});return null==(t=(0,aU._)(this,u).get(a.queryHash))?void 0:t.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),a=(0,aU._)(this,u).build(this,t),n=a.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime((0,aL.resolveStaleTime)(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return(0,aU._)(this,u).findAll(e).map(e=>{let{queryKey:t,state:a}=e;return[t,a.data]})}setQueryData(e,t,a){let n=this.defaultQueryOptions({queryKey:e}),i=(0,aU._)(this,u).get(n.queryHash),s=null==i?void 0:i.state.data,r=(0,aL.functionalUpdate)(t,s);if(void 0!==r)return(0,aU._)(this,u).build(this,n).setData(r,{...a,manual:!0})}setQueriesData(e,t,a){return aq.notifyManager.batch(()=>(0,aU._)(this,u).findAll(e).map(e=>{let{queryKey:n}=e;return[n,this.setQueryData(n,t,a)]}))}getQueryState(e){var t;let a=this.defaultQueryOptions({queryKey:e});return null==(t=(0,aU._)(this,u).get(a.queryHash))?void 0:t.state}removeQueries(e){let t=(0,aU._)(this,u);aq.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let a=(0,aU._)(this,u);return aq.notifyManager.batch(()=>(a.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={revert:!0,...t};return Promise.all(aq.notifyManager.batch(()=>(0,aU._)(this,u).findAll(e).map(e=>e.cancel(a)))).then(aL.noop).catch(aL.noop)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return aq.notifyManager.batch(()=>{var a,n;return((0,aU._)(this,u).findAll(e).forEach(e=>{e.invalidate()}),(null==e?void 0:e.refetchType)==="none")?Promise.resolve():this.refetchQueries({...e,type:null!=(n=null!=(a=null==e?void 0:e.refetchType)?a:null==e?void 0:e.type)?n:"active"},t)})}refetchQueries(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={...a,cancelRefetch:null==(t=a.cancelRefetch)||t};return Promise.all(aq.notifyManager.batch(()=>(0,aU._)(this,u).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(aL.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(aL.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let a=(0,aU._)(this,u).build(this,t);return a.isStaleByTime((0,aL.resolveStaleTime)(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(aL.noop).catch(aL.noop)}fetchInfiniteQuery(e){return e.behavior=a3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(aL.noop).catch(aL.noop)}ensureInfiniteQueryData(e){return e.behavior=a3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return a2.onlineManager.isOnline()?(0,aU._)(this,h).resumePausedMutations():Promise.resolve()}getQueryCache(){return(0,aU._)(this,u)}getMutationCache(){return(0,aU._)(this,h)}getDefaultOptions(){return(0,aU._)(this,g)}setDefaultOptions(e){(0,aD._)(this,g,e)}setQueryDefaults(e,t){(0,aU._)(this,p).set((0,aL.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...(0,aU._)(this,p).values()],a={};return t.forEach(t=>{(0,aL.partialMatchKey)(e,t.queryKey)&&Object.assign(a,t.defaultOptions)}),a}setMutationDefaults(e,t){(0,aU._)(this,y).set((0,aL.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...(0,aU._)(this,y).values()],a={};return t.forEach(t=>{(0,aL.partialMatchKey)(e,t.mutationKey)&&Object.assign(a,t.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;let t={...(0,aU._)(this,g).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,aL.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aL.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...(0,aU._)(this,g).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){(0,aU._)(this,u).clear(),(0,aU._)(this,h).clear()}constructor(e={}){(0,aF._)(this,u,{writable:!0,value:void 0}),(0,aF._)(this,h,{writable:!0,value:void 0}),(0,aF._)(this,g,{writable:!0,value:void 0}),(0,aF._)(this,p,{writable:!0,value:void 0}),(0,aF._)(this,y,{writable:!0,value:void 0}),(0,aF._)(this,f,{writable:!0,value:void 0}),(0,aF._)(this,m,{writable:!0,value:void 0}),(0,aF._)(this,v,{writable:!0,value:void 0}),(0,aD._)(this,u,e.queryCache||new aW),(0,aD._)(this,h,e.mutationCache||new a$),(0,aD._)(this,g,e.defaultOptions||{}),(0,aD._)(this,p,new Map),(0,aD._)(this,y,new Map),(0,aD._)(this,f,0)}}),a4=e.i(40024),a8=e.i(24204);let a9=new a5;tm.fromUrl(a8.NODE_URL);let a7=a8.WALLET_CONNECT_PROJECT_ID?{projectId:a8.WALLET_CONNECT_PROJECT_ID,metadata:{name:a8.APP_TITLE,description:a8.APP_DESCRIPTION,url:window.location.origin,icons:a8.APP_ICONS}}:void 0;function ne(e){let{children:t}=e;return console.log("DAppKitProviderWrapper initialized with node:",a8.NODE_URL,"walletConnectOptions:",a7),(0,w.jsx)(a4.QueryClientProvider,{client:a9,children:(0,w.jsx)(b.DAppKitProvider,{node:a8.NODE_URL,usePersistence:!0,walletConnectOptions:a7,logLevel:"DEBUG",children:t})})}}]);