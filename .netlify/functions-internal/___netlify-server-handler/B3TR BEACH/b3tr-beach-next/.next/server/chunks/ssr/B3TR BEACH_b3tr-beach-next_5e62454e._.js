module.exports=[12314,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.isEventSourceSupported=c.isReactNative=c.ReadyState=c.DEFAULT_HEARTBEAT=c.UNPARSABLE_JSON_OBJECT=c.DEFAULT_RECONNECT_INTERVAL_MS=c.DEFAULT_RECONNECT_LIMIT=c.SOCKET_IO_PING_CODE=c.SOCKET_IO_PATH=c.SOCKET_IO_PING_INTERVAL=c.DEFAULT_EVENT_SOURCE_OPTIONS=c.EMPTY_EVENT_HANDLERS=c.DEFAULT_OPTIONS=void 0,c.DEFAULT_OPTIONS={},c.EMPTY_EVENT_HANDLERS={},c.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:c.EMPTY_EVENT_HANDLERS},c.SOCKET_IO_PING_INTERVAL=25e3,c.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",c.SOCKET_IO_PING_CODE="2",c.DEFAULT_RECONNECT_LIMIT=20,c.DEFAULT_RECONNECT_INTERVAL_MS=5e3,c.UNPARSABLE_JSON_OBJECT={},c.DEFAULT_HEARTBEAT={message:"ping",timeout:6e4,interval:25e3},function(a){a[a.UNINSTANTIATED=-1]="UNINSTANTIATED",a[a.CONNECTING=0]="CONNECTING",a[a.OPEN=1]="OPEN",a[a.CLOSING=2]="CLOSING",a[a.CLOSED=3]="CLOSED"}(d||(c.ReadyState=d={})),c.isReactNative="undefined"!=typeof navigator&&"ReactNative"===navigator.product,c.isEventSourceSupported=!c.isReactNative&&function(){try{return"EventSource"in globalThis}catch(a){return!1}}()},78306,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.resetWebSockets=c.sharedWebSockets=void 0,c.sharedWebSockets={},c.resetWebSockets=function(a){if(a&&c.sharedWebSockets.hasOwnProperty(a))delete c.sharedWebSockets[a];else for(var b in c.sharedWebSockets)c.sharedWebSockets.hasOwnProperty(b)&&delete c.sharedWebSockets[b]}},15228,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setUpSocketIOPing=c.appendQueryParams=c.parseSocketIOUrl=void 0;var d=a.r(12314);c.parseSocketIOUrl=function(a){if(a){var b=/^https|wss/.test(a),c=a.replace(/^(https?|wss?)(:\/\/)?/,"").replace(/\/$/,""),e=b?"wss":"ws";return"".concat(e,"://").concat(c).concat(d.SOCKET_IO_PATH)}if(""===a){var b=/^https/.test(window.location.protocol),e=b?"wss":"ws",f=window.location.port?":".concat(window.location.port):"";return"".concat(e,"://").concat(window.location.hostname).concat(f).concat(d.SOCKET_IO_PATH)}return a},c.appendQueryParams=function(a,b){void 0===b&&(b={});var c=/\?([\w]+=[\w]+)/.test(a),d="".concat(Object.entries(b).reduce(function(a,b){var c=b[0],d=b[1];return a+"".concat(c,"=").concat(d,"&")},"").slice(0,-1));return"".concat(a).concat(c?"&":"?").concat(d)},c.setUpSocketIOPing=function(a,b){return void 0===b&&(b=d.SOCKET_IO_PING_INTERVAL),window.setInterval(function(){return a(d.SOCKET_IO_PING_CODE)},b)}},27662,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.heartbeat=function(a,b,c){var e=c||{},f=e.interval,g=void 0===f?d.DEFAULT_HEARTBEAT.interval:f,h=e.timeout,i=void 0===h?d.DEFAULT_HEARTBEAT.timeout:h,j=e.message,k=void 0===j?d.DEFAULT_HEARTBEAT.message:j,l=Math.max(100,g/10),m=Date.now(),n=setInterval(function(){var c=Date.now(),d=Array.isArray(b)?b.reduce(function(a,b){return a.current>b.current?a:b}).current:b.current;if(d+i<=c)console.warn("Heartbeat timed out, closing connection, last message received ".concat(c-d,"ms ago, last ping sent ").concat(c-m,"ms ago")),a.close();else if(d+g<=c&&m+g<=c)try{"function"==typeof k?a.send(k()):a.send(k),m=c}catch(b){console.error("Heartbeat failed, closing connection",b instanceof Error?b.message:b),a.close()}},l);return a.addEventListener("close",function(){clearInterval(n)}),function(){}};var d=a.r(12314)},43888,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.resetSubscribers=c.removeSubscriber=c.addSubscriber=c.hasSubscribers=c.getSubscribers=void 0;var d={},e=[];c.getSubscribers=function(a){return(0,c.hasSubscribers)(a)?Array.from(d[a]):e},c.hasSubscribers=function(a){var b;return(null==(b=d[a])?void 0:b.size)>0},c.addSubscriber=function(a,b){d[a]=d[a]||new Set,d[a].add(b)},c.removeSubscriber=function(a,b){d[a].delete(b)},c.resetSubscribers=function(a){if(a&&d.hasOwnProperty(a))delete d[a];else for(var b in d)d.hasOwnProperty(b)&&delete d[b]}},22101,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.assertIsWebSocket=function(a,b){if(!b&&a instanceof WebSocket==!1)throw Error("")},c.resetGlobalState=function(a){(0,e.resetSubscribers)(a),(0,d.resetWebSockets)(a)};var d=a.r(78306),e=a.r(43888)},93919,(a,b,c)=>{"use strict";var d=a.e&&a.e.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.attachListeners=void 0;var e=a.r(15228),f=a.r(27662),g=a.r(12314),h=a.r(22101),i=function(a,b,c,d){a.onmessage=function(a){var e;b.current.onMessage&&b.current.onMessage(a),"number"==typeof(null==d?void 0:d.current)&&(d.current=Date.now()),("function"!=typeof b.current.filter||!0===b.current.filter(a))&&(b.current.heartbeat&&"boolean"!=typeof b.current.heartbeat&&(null==(e=b.current.heartbeat)?void 0:e.returnMessage)===a.data||c(a))}},j=function(a,b,c,d,e){a.onopen=function(h){if(b.current.onOpen&&b.current.onOpen(h),d.current=0,c(g.ReadyState.OPEN),b.current.heartbeat&&a instanceof WebSocket){var i="boolean"==typeof b.current.heartbeat?void 0:b.current.heartbeat;e.current=Date.now(),(0,f.heartbeat)(a,e,i)}}},k=function(a,b,c,d,e){var f;return g.isEventSourceSupported&&a instanceof EventSource?function(){}:((0,h.assertIsWebSocket)(a,b.current.skipAssert),a.onclose=function(a){var h;if(b.current.onClose&&b.current.onClose(a),c(g.ReadyState.CLOSED),b.current.shouldReconnect&&b.current.shouldReconnect(a)){var i=null!=(h=b.current.reconnectAttempts)?h:g.DEFAULT_RECONNECT_LIMIT;if(e.current<i){var j="function"==typeof b.current.reconnectInterval?b.current.reconnectInterval(e.current):b.current.reconnectInterval;f=window.setTimeout(function(){e.current++,d()},null!=j?j:g.DEFAULT_RECONNECT_INTERVAL_MS)}else b.current.onReconnectStop&&b.current.onReconnectStop(i),console.warn("Max reconnect attempts of ".concat(i," exceeded"))}},function(){return f&&window.clearTimeout(f)})},l=function(a,b,c,e,f){var h;return a.onerror=function(i){var j;if(b.current.onError&&b.current.onError(i),g.isEventSourceSupported&&a instanceof EventSource&&(b.current.onClose&&b.current.onClose(d(d({},i),{code:1006,reason:"An error occurred with the EventSource: ".concat(i),wasClean:!1})),c(g.ReadyState.CLOSED),a.close()),b.current.retryOnError)if(f.current<(null!=(j=b.current.reconnectAttempts)?j:g.DEFAULT_RECONNECT_LIMIT)){var k="function"==typeof b.current.reconnectInterval?b.current.reconnectInterval(f.current):b.current.reconnectInterval;h=window.setTimeout(function(){f.current++,e()},null!=k?k:g.DEFAULT_RECONNECT_INTERVAL_MS)}else b.current.onReconnectStop&&b.current.onReconnectStop(b.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(b.current.reconnectAttempts," exceeded"))},function(){return h&&window.clearTimeout(h)}};c.attachListeners=function(a,b,c,d,f,h,m){var n,o,p,q=b.setLastMessage,r=b.setReadyState;return c.current.fromSocketIO&&(n=(0,e.setUpSocketIOPing)(m)),i(a,c,q,h),j(a,c,r,f,h),o=k(a,c,r,d,f),p=l(a,c,r,d,f),function(){r(g.ReadyState.CLOSING),o(),p(),a.close(),n&&clearInterval(n)}}},85805,(a,b,c)=>{"use strict";var d=a.e&&a.e.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.attachSharedListeners=void 0;var e=a.r(78306),f=a.r(12314),g=a.r(43888),h=a.r(15228),i=a.r(27662),j=function(a,b,c){a.onmessage=function(a){(0,g.getSubscribers)(b).forEach(function(b){var d;b.optionsRef.current.onMessage&&b.optionsRef.current.onMessage(a),"number"==typeof(null==(d=null==b?void 0:b.lastMessageTime)?void 0:d.current)&&(b.lastMessageTime.current=Date.now()),("function"!=typeof b.optionsRef.current.filter||!0===b.optionsRef.current.filter(a))&&(c&&"boolean"!=typeof c&&(null==c?void 0:c.returnMessage)===a.data||b.setLastMessage(a))})}},k=function(a,b,c){a.onopen=function(d){var e=(0,g.getSubscribers)(b);e.forEach(function(b){b.reconnectCount.current=0,b.optionsRef.current.onOpen&&b.optionsRef.current.onOpen(d),b.setReadyState(f.ReadyState.OPEN),c&&a instanceof WebSocket&&(b.lastMessageTime.current=Date.now())}),c&&a instanceof WebSocket&&(0,i.heartbeat)(a,e.map(function(a){return a.lastMessageTime}),"boolean"==typeof c?void 0:c)}},l=function(a,b){a instanceof WebSocket&&(a.onclose=function(a){(0,g.getSubscribers)(b).forEach(function(b){b.optionsRef.current.onClose&&b.optionsRef.current.onClose(a),b.setReadyState(f.ReadyState.CLOSED)}),delete e.sharedWebSockets[b],(0,g.getSubscribers)(b).forEach(function(b){var c;if(b.optionsRef.current.shouldReconnect&&b.optionsRef.current.shouldReconnect(a)){var d=null!=(c=b.optionsRef.current.reconnectAttempts)?c:f.DEFAULT_RECONNECT_LIMIT;if(b.reconnectCount.current<d){var e="function"==typeof b.optionsRef.current.reconnectInterval?b.optionsRef.current.reconnectInterval(b.reconnectCount.current):b.optionsRef.current.reconnectInterval;setTimeout(function(){b.reconnectCount.current++,b.reconnect.current()},null!=e?e:f.DEFAULT_RECONNECT_INTERVAL_MS)}else b.optionsRef.current.onReconnectStop&&b.optionsRef.current.onReconnectStop(b.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(d," exceeded"))}})})},m=function(a,b){a.onerror=function(c){(0,g.getSubscribers)(b).forEach(function(b){b.optionsRef.current.onError&&b.optionsRef.current.onError(c),f.isEventSourceSupported&&a instanceof EventSource&&(b.optionsRef.current.onClose&&b.optionsRef.current.onClose(d(d({},c),{code:1006,reason:"An error occurred with the EventSource: ".concat(c),wasClean:!1})),b.setReadyState(f.ReadyState.CLOSED))}),f.isEventSourceSupported&&a instanceof EventSource&&a.close()}};c.attachSharedListeners=function(a,b,c,d){var e;return c.current.fromSocketIO&&(e=(0,h.setUpSocketIOPing)(d)),j(a,b,c.current.heartbeat),l(a,b),k(a,b,c.current.heartbeat),m(a,b),function(){e&&clearInterval(e)}}},6919,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createOrJoinSocket=void 0;var d=a.r(78306),e=a.r(12314),f=a.r(93919),g=a.r(85805),h=a.r(43888);c.createOrJoinSocket=function(a,b,c,i,j,k,l,m,n){if(!e.isEventSourceSupported&&i.current.eventSourceOptions)if(e.isReactNative)throw Error("EventSource is not supported in ReactNative");else throw Error("EventSource is not supported");if(i.current.share){var o,p=null;void 0===d.sharedWebSockets[b]?(d.sharedWebSockets[b]=i.current.eventSourceOptions?new EventSource(b,i.current.eventSourceOptions):new WebSocket(b,i.current.protocols),a.current=d.sharedWebSockets[b],c(e.ReadyState.CONNECTING),p=(0,g.attachSharedListeners)(d.sharedWebSockets[b],b,i,n)):(a.current=d.sharedWebSockets[b],c(d.sharedWebSockets[b].readyState));var q={setLastMessage:j,setReadyState:c,optionsRef:i,reconnectCount:l,lastMessageTime:m,reconnect:k};return(0,h.addSubscriber)(b,q),o=p,function(){if((0,h.removeSubscriber)(b,q),!(0,h.hasSubscribers)(b)){try{var a=d.sharedWebSockets[b];a instanceof WebSocket&&(a.onclose=function(a){i.current.onClose&&i.current.onClose(a),c(e.ReadyState.CLOSED)}),a.close()}catch(a){}o&&o(),delete d.sharedWebSockets[b]}}}if(a.current=i.current.eventSourceOptions?new EventSource(b,i.current.eventSourceOptions):new WebSocket(b,i.current.protocols),c(e.ReadyState.CONNECTING),!a.current)throw Error("WebSocket failed to be created");return(0,f.attachListeners)(a.current,{setLastMessage:j,setReadyState:c},i,k.current,l,m,n)}},36268,(a,b,c)=>{"use strict";var d=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},e=a.e&&a.e.__generator||function(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},f=a.e&&a.e.__spreadArray||function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))};Object.defineProperty(c,"__esModule",{value:!0}),c.getUrl=void 0;var g=a.r(15228),h=a.r(12314);c.getUrl=function(a,b){for(var i=[],j=2;j<arguments.length;j++)i[j-2]=arguments[j];return d(void 0,f([a,b],i,!0),void 0,function(a,b,d){var f,i,j,k,l,m,n;return void 0===d&&(d=0),e(this,function(e){switch(e.label){case 0:if("function"!=typeof a)return[3,10];e.label=1;case 1:return e.trys.push([1,3,,9]),[4,a()];case 2:return f=e.sent(),[3,9];case 3:var o;if(e.sent(),!b.current.retryOnError)return[3,7];if(i=null!=(l=b.current.reconnectAttempts)?l:h.DEFAULT_RECONNECT_LIMIT,!(d<i))return[3,5];return[4,(o=null!=(j="function"==typeof b.current.reconnectInterval?b.current.reconnectInterval(d):b.current.reconnectInterval)?j:h.DEFAULT_RECONNECT_INTERVAL_MS,new Promise(function(a){return window.setTimeout(a,o)}))];case 4:return e.sent(),[2,(0,c.getUrl)(a,b,d+1)];case 5:return null==(n=(m=b.current).onReconnectStop)||n.call(m,d),[2,null];case 6:return[3,8];case 7:return[2,null];case 8:return[3,9];case 9:return[3,11];case 10:f=a,e.label=11;case 11:return k=b.current.fromSocketIO?(0,g.parseSocketIOUrl)(f):f,[2,b.current.queryParams?(0,g.appendQueryParams)(k,b.current.queryParams):k]}})})}},17115,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.websocketWrapper=void 0,c.websocketWrapper=function(a,b){return new Proxy(a,{get:function(a,c){var d=a[c];return"reconnect"===c?b:"function"==typeof d?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):d},set:function(a,b,c){return/^on/.test(b)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(a[b]=c,!0)}})},c.default=c.websocketWrapper},80038,(a,b,c)=>{"use strict";var d=a.e&&a.e.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},e=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},f=a.e&&a.e.__generator||function(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},g=a.e&&a.e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.useWebSocket=void 0;var h=a.r(21837),i=a.r(15145),j=a.r(12314),k=a.r(6919),l=a.r(36268),m=g(a.r(17115)),n=a.r(22101);c.useWebSocket=function(a,b,c){void 0===b&&(b=j.DEFAULT_OPTIONS),void 0===c&&(c=!0);var g=(0,h.useState)(null),o=g[0],p=g[1],q=(0,h.useState)({}),r=q[0],s=q[1],t=(0,h.useMemo)(function(){if(!b.disableJson&&o)try{return JSON.parse(o.data)}catch(a){return j.UNPARSABLE_JSON_OBJECT}return null},[o,b.disableJson]),u=(0,h.useRef)(null),v=(0,h.useRef)(null),w=(0,h.useRef)(function(){}),x=(0,h.useRef)(0),y=(0,h.useRef)(Date.now()),z=(0,h.useRef)([]),A=(0,h.useRef)(null),B=(0,h.useRef)(b);B.current=b;var C=u.current&&void 0!==r[u.current]?r[u.current]:null!==a&&!0===c?j.ReadyState.CONNECTING:j.ReadyState.UNINSTANTIATED,D=b.queryParams?JSON.stringify(b.queryParams):null,E=(0,h.useCallback)(function(a,b){var c;if(void 0===b&&(b=!0),j.isEventSourceSupported&&v.current instanceof EventSource)return void console.warn("Unable to send a message from an eventSource");(null==(c=v.current)?void 0:c.readyState)===j.ReadyState.OPEN?((0,n.assertIsWebSocket)(v.current,B.current.skipAssert),v.current.send(a)):b&&z.current.push(a)},[]),F=(0,h.useCallback)(function(a,b){void 0===b&&(b=!0),E(JSON.stringify(a),b)},[E]),G=(0,h.useCallback)(function(){return!0!==B.current.share||j.isEventSourceSupported&&v.current instanceof EventSource?v.current:(null===A.current&&v.current&&((0,n.assertIsWebSocket)(v.current,B.current.skipAssert),A.current=(0,m.default)(v.current,w)),A.current)},[]);return(0,h.useEffect)(function(){if(null!==a&&!0===c){var b,g=!1,h=!0,m=function(){return e(void 0,void 0,void 0,function(){var c,e,m;return f(this,function(f){switch(f.label){case 0:return c=u,[4,(0,l.getUrl)(a,B)];case 1:if(c.current=f.sent(),null===u.current)return console.error("Failed to get a valid URL. WebSocket connection aborted."),u.current="ABORTED",(0,i.flushSync)(function(){return s(function(a){return d(d({},a),{ABORTED:j.ReadyState.CLOSED})})}),[2];return e=function(a){g||(0,i.flushSync)(function(){return p(a)})},m=function(a){g||(0,i.flushSync)(function(){return s(function(b){var c;return d(d({},b),u.current&&((c={})[u.current]=a,c))})})},h&&(b=(0,k.createOrJoinSocket)(v,u.current,m,B,e,w,x,y,E)),[2]}})})};return w.current=function(){g||(A.current&&(A.current=null),null==b||b(),m())},m(),function(){g=!0,h=!1,A.current&&(A.current=null),null==b||b(),p(null)}}(null===a||!1===c)&&(x.current=0,s(function(a){var b;return d(d({},a),u.current&&((b={})[u.current]=j.ReadyState.CLOSED,b))}))},[a,c,D,E]),(0,h.useEffect)(function(){C===j.ReadyState.OPEN&&z.current.splice(0).forEach(function(a){E(a)})},[C]),{sendMessage:E,sendJsonMessage:F,lastMessage:o,lastJsonMessage:t,readyState:C,getWebSocket:G}}},66370,(a,b,c)=>{"use strict";var d=a.e&&a.e.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.useSocketIO=void 0;var e=a.r(21837),f=a.r(80038),g=a.r(12314),h={type:"empty",payload:null},i=function(a){if(!a||!a.data)return h;var b=a.data.match(/\[.*]/);if(!b)return h;var c=JSON.parse(b);return Array.isArray(c)&&c[1]?{type:c[0],payload:c[1]}:h};c.useSocketIO=function(a,b,c){void 0===b&&(b=g.DEFAULT_OPTIONS),void 0===c&&(c=!0);var h=(0,e.useMemo)(function(){return d(d({},b),{fromSocketIO:!0})},[]),j=(0,f.useWebSocket)(a,h,c),k=j.sendMessage,l=j.sendJsonMessage,m=j.lastMessage,n=j.readyState,o=j.getWebSocket,p=(0,e.useMemo)(function(){return i(m)},[m]);return{sendMessage:k,sendJsonMessage:l,lastMessage:p,lastJsonMessage:p,readyState:n,getWebSocket:o}}},67749,(a,b,c)=>{"use strict";var d=a.e&&a.e.__assign||function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},e=a.e&&a.e.__rest||function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};Object.defineProperty(c,"__esModule",{value:!0}),c.useEventSource=void 0;var f=a.r(21837),g=a.r(80038),h=a.r(12314);c.useEventSource=function(a,b,c){void 0===b&&(b=h.DEFAULT_EVENT_SOURCE_OPTIONS);var i=b.withCredentials,j=b.events,k=e(b,["withCredentials","events"]);void 0===c&&(c=!0);var l=d(d({},k),{eventSourceOptions:{withCredentials:i}}),m=(0,f.useRef)(h.EMPTY_EVENT_HANDLERS);j&&(m.current=j);var n=(0,g.useWebSocket)(a,l,c),o=n.lastMessage,p=n.readyState,q=n.getWebSocket;return(0,f.useEffect)(function(){(null==o?void 0:o.type)&&Object.entries(m.current).forEach(function(a){var b=a[0],c=a[1];b===o.type&&c(o)})},[o]),{lastEvent:o,readyState:p,getEventSource:q}}},61209,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.resetGlobalState=c.useEventSource=c.ReadyState=c.useSocketIO=c.default=void 0;var d=a.r(80038);Object.defineProperty(c,"default",{enumerable:!0,get:function(){return d.useWebSocket}});var e=a.r(66370);Object.defineProperty(c,"useSocketIO",{enumerable:!0,get:function(){return e.useSocketIO}});var f=a.r(12314);Object.defineProperty(c,"ReadyState",{enumerable:!0,get:function(){return f.ReadyState}});var g=a.r(67749);Object.defineProperty(c,"useEventSource",{enumerable:!0,get:function(){return g.useEventSource}});var h=a.r(22101);Object.defineProperty(c,"resetGlobalState",{enumerable:!0,get:function(){return h.resetGlobalState}})},84366,a=>{"use strict";a.s(["default",()=>R],84366);var b=a.i(41940),c=a.i(74205),d=a.i(21837),e=a.i(69435),f=a.i(64017),g=a.i(54791),h=a.i(68014),i=a.i(60871),j=a.i(2832),k=a.i(77460),l=class extends h.Subscribable{constructor(a,b){super(),this.options=b,this.#a=a,this.#b=null,this.#c=(0,i.pendingThenable)(),this.bindMethods(),this.setOptions(b)}#a;#d=void 0;#e=void 0;#f=void 0;#g;#h;#c;#b;#i;#j;#k;#l;#m;#n;#o=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#d.addObserver(this),m(this.#d,this.options)?this.#p():this.updateResult(),this.#q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return n(this.#d,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return n(this.#d,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#r(),this.#s(),this.#d.removeObserver(this)}setOptions(a){let b=this.options,c=this.#d;if(this.options=this.#a.defaultQueryOptions(a),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,j.resolveEnabled)(this.options.enabled,this.#d))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#t(),this.#d.setOptions(this.options),b._defaulted&&!(0,j.shallowEqualObjects)(this.options,b)&&this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#d,observer:this});let d=this.hasListeners();d&&o(this.#d,c,this.options,b)&&this.#p(),this.updateResult(),d&&(this.#d!==c||(0,j.resolveEnabled)(this.options.enabled,this.#d)!==(0,j.resolveEnabled)(b.enabled,this.#d)||(0,j.resolveStaleTime)(this.options.staleTime,this.#d)!==(0,j.resolveStaleTime)(b.staleTime,this.#d))&&this.#u();let e=this.#v();d&&(this.#d!==c||(0,j.resolveEnabled)(this.options.enabled,this.#d)!==(0,j.resolveEnabled)(b.enabled,this.#d)||e!==this.#n)&&this.#w(e)}getOptimisticResult(a){var b,c;let d=this.#a.getQueryCache().build(this.#a,a),e=this.createResult(d,a);return b=this,c=e,(0,j.shallowEqualObjects)(b.getCurrentResult(),c)||(this.#f=e,this.#h=this.options,this.#g=this.#d.state),e}getCurrentResult(){return this.#f}trackResult(a,b){return new Proxy(a,{get:(a,c)=>(this.trackProp(c),b?.(c),"promise"!==c||this.options.experimental_prefetchInRender||"pending"!==this.#c.status||this.#c.reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,c))})}trackProp(a){this.#o.add(a)}getCurrentQuery(){return this.#d}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){let b=this.#a.defaultQueryOptions(a),c=this.#a.getQueryCache().build(this.#a,b);return c.fetch().then(()=>this.createResult(c,b))}fetch(a){return this.#p({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#f))}#p(a){this.#t();let b=this.#d.fetch(this.options,a);return a?.throwOnError||(b=b.catch(j.noop)),b}#u(){this.#r();let a=(0,j.resolveStaleTime)(this.options.staleTime,this.#d);if(j.isServer||this.#f.isStale||!(0,j.isValidTimeout)(a))return;let b=(0,j.timeUntilStale)(this.#f.dataUpdatedAt,a);this.#l=k.timeoutManager.setTimeout(()=>{this.#f.isStale||this.updateResult()},b+1)}#v(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#d):this.options.refetchInterval)??!1}#w(a){this.#s(),this.#n=a,!j.isServer&&!1!==(0,j.resolveEnabled)(this.options.enabled,this.#d)&&(0,j.isValidTimeout)(this.#n)&&0!==this.#n&&(this.#m=k.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||e.focusManager.isFocused())&&this.#p()},this.#n))}#q(){this.#u(),this.#w(this.#v())}#r(){this.#l&&(k.timeoutManager.clearTimeout(this.#l),this.#l=void 0)}#s(){this.#m&&(k.timeoutManager.clearInterval(this.#m),this.#m=void 0)}createResult(a,b){let c,d=this.#d,e=this.options,f=this.#f,h=this.#g,k=this.#h,l=a!==d?a.state:this.#e,{state:n}=a,q={...n},r=!1;if(b._optimisticResults){let c=this.hasListeners(),f=!c&&m(a,b),h=c&&o(a,d,b,e);(f||h)&&(q={...q,...(0,g.fetchState)(n.data,a.options)}),"isRestoring"===b._optimisticResults&&(q.fetchStatus="idle")}let{error:s,errorUpdatedAt:t,status:u}=q;c=q.data;let v=!1;if(void 0!==b.placeholderData&&void 0===c&&"pending"===u){let a;f?.isPlaceholderData&&b.placeholderData===k?.placeholderData?(a=f.data,v=!0):a="function"==typeof b.placeholderData?b.placeholderData(this.#k?.state.data,this.#k):b.placeholderData,void 0!==a&&(u="success",c=(0,j.replaceData)(f?.data,a,b),r=!0)}if(b.select&&void 0!==c&&!v)if(f&&c===h?.data&&b.select===this.#i)c=this.#j;else try{this.#i=b.select,c=b.select(c),c=(0,j.replaceData)(f?.data,c,b),this.#j=c,this.#b=null}catch(a){this.#b=a}this.#b&&(s=this.#b,c=this.#j,t=Date.now(),u="error");let w="fetching"===q.fetchStatus,x="pending"===u,y="error"===u,z=x&&w,A=void 0!==c,B={status:u,fetchStatus:q.fetchStatus,isPending:x,isSuccess:"success"===u,isError:y,isInitialLoading:z,isLoading:z,data:c,dataUpdatedAt:q.dataUpdatedAt,error:s,errorUpdatedAt:t,failureCount:q.fetchFailureCount,failureReason:q.fetchFailureReason,errorUpdateCount:q.errorUpdateCount,isFetched:q.dataUpdateCount>0||q.errorUpdateCount>0,isFetchedAfterMount:q.dataUpdateCount>l.dataUpdateCount||q.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:y&&!A,isPaused:"paused"===q.fetchStatus,isPlaceholderData:r,isRefetchError:y&&A,isStale:p(a,b),refetch:this.refetch,promise:this.#c,isEnabled:!1!==(0,j.resolveEnabled)(b.enabled,a)};if(this.options.experimental_prefetchInRender){let b=a=>{"error"===B.status?a.reject(B.error):void 0!==B.data&&a.resolve(B.data)},c=()=>{b(this.#c=B.promise=(0,i.pendingThenable)())},e=this.#c;switch(e.status){case"pending":a.queryHash===d.queryHash&&b(e);break;case"fulfilled":("error"===B.status||B.data!==e.value)&&c();break;case"rejected":("error"!==B.status||B.error!==e.reason)&&c()}}return B}updateResult(){let a=this.#f,b=this.createResult(this.#d,this.options);if(this.#g=this.#d.state,this.#h=this.options,void 0!==this.#g.data&&(this.#k=this.#d),(0,j.shallowEqualObjects)(b,a))return;this.#f=b;let c=()=>{if(!a)return!0;let{notifyOnChangeProps:b}=this.options,c="function"==typeof b?b():b;if("all"===c||!c&&!this.#o.size)return!0;let d=new Set(c??this.#o);return this.options.throwOnError&&d.add("error"),Object.keys(this.#f).some(b=>this.#f[b]!==a[b]&&d.has(b))};this.#x({listeners:c()})}#t(){let a=this.#a.getQueryCache().build(this.#a,this.options);if(a===this.#d)return;let b=this.#d;this.#d=a,this.#e=a.state,this.hasListeners()&&(b?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#q()}#x(a){f.notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(a=>{a(this.#f)}),this.#a.getQueryCache().notify({query:this.#d,type:"observerResultsUpdated"})})}};function m(a,b){return!1!==(0,j.resolveEnabled)(b.enabled,a)&&void 0===a.state.data&&("error"!==a.state.status||!1!==b.retryOnMount)||void 0!==a.state.data&&n(a,b,b.refetchOnMount)}function n(a,b,c){if(!1!==(0,j.resolveEnabled)(b.enabled,a)&&"static"!==(0,j.resolveStaleTime)(b.staleTime,a)){let d="function"==typeof c?c(a):c;return"always"===d||!1!==d&&p(a,b)}return!1}function o(a,b,c,d){return(a!==b||!1===(0,j.resolveEnabled)(d.enabled,a))&&(!c.suspense||"error"!==a.state.status)&&p(a,c)}function p(a,b){return!1!==(0,j.resolveEnabled)(b.enabled,a)&&a.isStaleByTime((0,j.resolveStaleTime)(b.staleTime,a))}var q=a.i(17771),r=d.createContext(function(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}()),s=d.createContext(!1);s.Provider;var t=(a,b,c)=>b.fetchOptimistic(a).catch(()=>{c.clearReset()});function u(a,b){return function(a,b,c){let e=d.useContext(s),g=d.useContext(r),h=(0,q.useQueryClient)(c),i=h.defaultQueryOptions(a);if(h.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=e?"isRestoring":"optimistic",i.suspense){let a=a=>"static"===a?a:Math.max(a??1e3,1e3),b=i.staleTime;i.staleTime="function"==typeof b?(...c)=>a(b(...c)):a(b),"number"==typeof i.gcTime&&(i.gcTime=Math.max(i.gcTime,1e3))}(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&!g.isReset()&&(i.retryOnMount=!1),d.useEffect(()=>{g.clearReset()},[g]);let k=!h.getQueryCache().get(i.queryHash),[l]=d.useState(()=>new b(h,i)),m=l.getOptimisticResult(i),n=!e&&!1!==a.subscribed;if(d.useSyncExternalStore(d.useCallback(a=>{let b=n?l.subscribe(f.notifyManager.batchCalls(a)):j.noop;return l.updateResult(),b},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d.useEffect(()=>{l.setOptions(i)},[i,l]),i?.suspense&&m.isPending)throw t(i,l,g);if((({result:a,errorResetBoundary:b,throwOnError:c,query:d,suspense:e})=>a.isError&&!b.isReset()&&!a.isFetching&&d&&(e&&void 0===a.data||(0,j.shouldThrowError)(c,[a.error,d])))({result:m,errorResetBoundary:g,throwOnError:i.throwOnError,query:h.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw m.error;if(h.getDefaultOptions().queries?._experimental_afterQuery?.(i,m),i.experimental_prefetchInRender&&!j.isServer&&m.isLoading&&m.isFetching&&!e){let a=k?t(i,l,g):h.getQueryCache().get(i.queryHash)?.promise;a?.catch(j.noop).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?m:l.trackResult(m)}(a,l,b)}var v=a.i(96377),w=a.i(77239);class x{constructor(a=0,b="Network Error"){this.status=a,this.text=b}}let y={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:a=>Promise.resolve(localStorage.getItem(a)),set:(a,b)=>Promise.resolve(localStorage.setItem(a,b)),remove:a=>Promise.resolve(localStorage.removeItem(a))}})()},z=a=>a?"string"==typeof a?{publicKey:a}:"[object Object]"===a.toString()?a:{}:{},A=async(a,b,c={})=>{let d=await fetch(y.origin+a,{method:"POST",headers:c,body:b}),e=await d.text(),f=new x(d.status,e);if(d.ok)return f;throw f},B=(a,b,c)=>{if(!a||"string"!=typeof a)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!b||"string"!=typeof b)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!c||"string"!=typeof c)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},C=a=>a.webdriver||!a.languages||0===a.languages.length,D=()=>new x(451,"Unavailable For Headless Browser"),E=(a,b)=>{if((a=>!a.list?.length||!a.watchVariable)(a))return!1;var c=a.list,d=a.watchVariable;if(!Array.isArray(c))throw"The BlockList list has to be an array";if("string"!=typeof d)throw"The BlockList watchVariable has to be a string";let e=((a,b)=>a instanceof FormData?a.get(b):a[b])(b,a.watchVariable);return"string"==typeof e&&a.list.includes(e)},F=()=>new x(403,"Forbidden"),G=async(a,b,c)=>{let d=Number(await c.get(a)||0);return b-Date.now()+d},H=async(a,b,c)=>{if(!b.throttle||!c)return!1;((a,b)=>{if("number"!=typeof a||a<0)throw"The LimitRate throttle has to be a positive number";if(b&&"string"!=typeof b)throw"The LimitRate ID has to be a non-empty string"})(b.throttle,b.id);let d=b.id||a;return await G(d,b.throttle,c)>0||(await c.set(d,Date.now().toString()),!1)},I=()=>new x(429,"Too Many Requests"),J={sendForm:async(a,b,c,d)=>{let e=z(d),f=e.publicKey||y.publicKey,g=e.blockHeadless||y.blockHeadless,h=y.storageProvider||e.storageProvider,i={...y.blockList,...e.blockList},j={...y.limitRate,...e.limitRate};if(g&&C(navigator))return Promise.reject(D());let k=(a=>"string"==typeof a?document.querySelector(a):a)(c);B(f,a,b),(a=>{if(!a||"FORM"!==a.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(k);let l=new FormData(k);return E(i,l)?Promise.reject(F()):await H(location.pathname,j,h)?Promise.reject(I()):(l.append("lib_version","4.4.1"),l.append("service_id",a),l.append("template_id",b),l.append("user_id",f),A("/api/v1.0/email/send-form",l))}},K=({txId:a,status:c,onClose:d})=>(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4 text-center",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-4 text-amber-400 text-outline-black",children:"Transaction Status"}),(0,b.jsx)("p",{className:"text-xl mb-4",children:c||"Pending..."}),a&&(0,b.jsxs)("p",{className:"text-xl mt-4",children:["Transaction ID: ",a]}),(0,b.jsx)("button",{className:"bg-amber-400 text-green-500 px-4 py-2 rounded-lg font-bold mt-4 hover:bg-black hover:text-green-500",onClick:d,children:"Close"})]})}),L=({selectedProduct:a,userDetails:c,setUserDetails:e,paymentStatus:f,account:g,formRef:h,handleB3TRPayment:i,openWalletModal:j,closeModal:k})=>{if(!a)return null;let l=a=>{let{name:b,value:c}=a.target;console.log("Input change:",b,c),e(a=>({...a,[b]:c}))};return(0,d.useEffect)(()=>{if(h.current&&a){let b=document.createElement("input");b.type="hidden",b.name="product_name",b.value=a.name,h.current.appendChild(b);let c=document.createElement("input");return c.type="hidden",c.name="product_price",c.value=`${a.priceUSD} USD (${a.priceB3TR} B3TR)`,h.current.appendChild(c),()=>{h.current&&(h.current.removeChild(b),h.current.removeChild(c))}}},[h,a]),(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4 text-center",children:(0,b.jsxs)("form",{ref:h,children:[(0,b.jsxs)("h3",{className:"text-3xl font-bold mb-4 text-center",children:["Select Payment Method: ",a.name]}),(0,b.jsxs)("p",{className:"text-xl mb-4 text-center",children:["Price: $",a.priceUSD," (",a.priceB3TR," B3TR)"]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Name"}),(0,b.jsx)("input",{type:"text",name:"name",className:"w-full p-2 border border-gray-300 rounded-lg",value:c.name,onChange:l,required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Email"}),(0,b.jsx)("input",{type:"email",name:"email",className:"w-full p-2 border border-gray-300 rounded-lg",value:c.email,onChange:l,required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Address"}),(0,b.jsx)("input",{type:"text",name:"address",className:"w-full p-2 border border-gray-300 rounded-lg",value:c.address,onChange:l,required:!0})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[g?(0,b.jsx)("button",{type:"button",className:"bg-amber-400 text-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-black hover:text-green-500",onClick:i,children:"Pay with B3TR"}):(0,b.jsx)("button",{type:"button",className:"bg-amber-400 text-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-black hover:text-green-500",onClick:j,children:"Connect Wallet for B3TR"}),(0,b.jsx)("a",{href:"https://vmerch.shop/collections/b3tr-beach",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-amber-400 hover:text-blue-600 inline-block",children:"Pay with Credit/Debit"})]}),f&&(0,b.jsx)("p",{className:"text-xl mt-4 text-center",children:f}),(0,b.jsx)("button",{type:"button",className:"bg-gray-400 text-red-500 px-4 py-2 rounded-lg font-bold mt-4 w-full hover:bg-red-600 hover:text-white",onClick:k,children:"Cancel"})]})})})};var M=a.i(95371),N=a.i(86554),O=a.i(41554),P=a.i(61209);let Q="b3tr2025";function R(){let[a,e]=(0,d.useState)([]),[f,g]=(0,d.useState)(null),[h,i]=(0,d.useState)(""),[j,k]=(0,d.useState)({name:"",priceUSD:0,priceB3TR:0,description:"",id:0}),[l,m]=(0,d.useState)(null),[n,o]=(0,d.useState)(null),[p,q]=(0,d.useState)(null),[r,s]=(0,d.useState)({name:"",email:"",address:""}),[t,x]=(0,d.useState)(!1),[y,z]=(0,d.useState)(!1),[A,B]=(0,d.useState)(!1),C=(0,d.useRef)(null),{account:D,signer:E,connect:F,disconnect:G}=(0,v.useWallet)(),H=(0,v.useThor)(),{open:I}=(0,v.useWalletModal)(),R="0x5ef79995FE8a89e0812330E4378eB2660ceDe699",S=(a=>{let[b,c]=d.default.useState(null),{lastJsonMessage:e}=(0,P.default)(`${O.NODE_URL}/subscriptions/beat2`.replace("http","ws"),{share:!0,shouldReconnect:()=>!0});return d.default.useEffect(()=>{if(e)try{let b=new w.BloomFilter(w.Hex.of(e.bloom).bytes,e.k);a.filter(a=>!!a).some(a=>b.contains(w.Hex.of(a)))&&setTimeout(()=>{c(e),console.log("Beat received:",e)},100)}catch(a){console.error("Error processing block:",a)}},[e,a]),b})(D?[D]:[]);(0,d.useEffect)(()=>{S&&D&&(console.log("New block detected:",S),T.current.refetchB3TR(),n&&T.current.refetchReceipt())},[S,D,n]);let T=(0,d.useRef)({refetchB3TR:()=>Promise.resolve({data:null}),refetchVTHO:()=>Promise.resolve({data:null}),refetchReceipt:()=>Promise.resolve({data:null})}),{data:U,error:V,refetch:W}=u({queryKey:["b3trBalance",D],queryFn:async()=>{if(!D||!H)return null;console.log("Fetching B3TR balance for:",D);try{let a=await H.contracts.executeCall(R,w.ABIItem.ofSignature(w.ABIFunction,"function balanceOf(address owner) view returns (uint256)"),[w.Address.of(D).toString()]),b="bigint"==typeof a?a.toString():JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString():b);console.log("Raw balance result:",b);let c="0",d="none";if("string"==typeof a&&"0x"!==a&&""!==a)c=a,d="hex-string";else if("object"==typeof a&&null!==a&&"success"in a&&a.success&&a.result&&"object"==typeof a.result&&"plain"in a.result)c=a.result.plain,d="structured-result-plain";else if("object"==typeof a&&null!==a&&"digits"in a&&a.digits)c=a.digits.toString(),d="digits";else if("object"==typeof a&&null!==a&&"toString"in a&&"function"==typeof a.toString){let b=a.toString();"0"!==b&&""!==b&&(c=b,d="toString")}else"object"==typeof a&&null!==a&&"_hex"in a&&a._hex?(c=a._hex,d="_hex"):"number"==typeof a&&a>0?(c="0x"+a.toString(16),d="number-to-hex"):"bigint"==typeof a&&(c=a.toString(),d="bigint");if(console.log("Parsed using method:",d),console.log("Balance value:",c),"0"===c||""===c)return console.log("Zero balance detected"),"0";let e=w.FixedPointNumber.of(c),f=Number(w.Units.formatUnits(e,18)).toFixed(2);return console.log("Formatted B3TR Balance:",f),f}catch(a){return console.error("B3TR balance query failed:",a.message),console.error("Error details:",{message:a.message,stack:a.stack,cause:a.cause}),null}},enabled:!!D&&!!H,refetchInterval:1e4,retry:3,retryDelay:1e3}),{data:X,error:Y,refetch:Z}=u({queryKey:["vthoBalance",D],queryFn:async()=>{if(!D||!H)return null;try{let a=await H.accounts.getAccount(w.Address.of(D)),b=w.FixedPointNumber.of(a.energy.toString()),c=Number(w.Units.formatUnits(b,18)).toFixed(2);return console.log("VTHO Balance for",D,":",c),c}catch(a){throw console.error("VTHO balance query failed:",a.message),Error(`Failed to fetch VTHO balance: ${a.message}`)}},enabled:!!D&&!!H,refetchInterval:1e4}),{data:$,refetch:_}=u({queryKey:["transaction",n],queryFn:async()=>{if(!n||!H||!f)return null;try{let a=await H.transactions.getTransactionReceipt(n);return console.log("Transaction receipt for",n,":",a),a}catch(a){return console.error("Transaction receipt query failed:",a.message),null}},refetchInterval:a=>a.data?.reverted===void 0&&7e3,placeholderData:a=>a||null,enabled:!!n&&!!H&&!!f});(0,d.useEffect)(()=>{T.current={refetchB3TR:W,refetchVTHO:Z,refetchReceipt:_},console.log("Refetch functions updated:",T.current)},[W,Z,_]);let aa=(0,d.useCallback)(()=>{if($&&f&&n&&D){let a=$?$.reverted?"reverted":"success":"pending",b=U||"0";console.log("Captured previousBalance:",b),T.current.refetchB3TR().then(c=>{let d=c.data||"0",e=Number(b)-Number(d);if(console.log("Transaction status:",a,", Receipt:",$,"User Details:",r,"Previous Balance:",b,"New Balance:",d,"Difference:",e),"success"===a||"reverted"===a)if(i("success"===a?`Payment successful for ${f.name}! Transaction ID: ${n}`:"Payment failed: Transaction reverted."),console.log("success"===a?"Purchase successful":`Transaction reverted: ${n}`),"success"===a||e>=0&&e>=f.priceB3TR){let a=JSON.parse(localStorage.getItem("b3tr_purchases")||"[]");if(a.push({item:f.name,amount:f.priceB3TR,account:D,txId:n,timestamp:new Date().toISOString(),userName:r.name,userEmail:r.email,userAddress:r.address}),localStorage.setItem("b3tr_purchases",JSON.stringify(a)),console.log("Purchase recorded with txId:",n,"purchases:",a),C.current&&r.email){console.log("Attempting to send email with form:",C.current);let a=new FormData(C.current);a.append("transactionId",n||""),a.append("itemName",f.name),a.append("price",f.priceB3TR.toString()),a.append("shipping","Free"),a.append("totalPrice",f.priceB3TR.toString()),a.append("userEmail",r.email),a.append("userName",r.name),a.append("userAddress",r.address),console.log("Email form data:",Object.fromEntries(a)),J.sendForm("B3TRBEACH","B3TRConfirm",C.current,"-yJ3RZmkCyvjwXcnb").then(a=>{console.log("Email sent successfully:",a.text)}).catch(a=>{console.error("Email send error:",a.message)})}o(n),B(!0),setTimeout(()=>{o(null),g(null),x(!0)},2e3)}else"reverted"===a&&(o(null),g(null),B(!1))}).catch(a=>{console.error("Balance refetch failed:",a.message)})}},[$,f,n,D,U]);(0,d.useEffect)(()=>{aa(),console.log("useEffect triggered with refetchRefs:",T.current)},[aa]),(0,d.useEffect)(()=>{console.log("Products useEffect triggered");try{let a=localStorage.getItem("b3tr_products");console.log("Raw stored products from localStorage:",a);let b=[];if(a)try{b=JSON.parse(a).map(a=>({...a,soldOut:a.soldOut||!1})),console.log("Parsed products successfully:",b)}catch(a){console.error("Failed to parse stored products:",a instanceof Error?a.message:a),b=[]}if(!b||0===b.length){console.log("No products found, initializing defaults");let a=[{id:1,name:"B3TR BEACH T-Shirt",priceUSD:25,priceB3TR:250,description:"Eco-friendly cotton T-shirt with B3TR logo.",soldOut:!1},{id:2,name:"B3TR BEACH Towel",priceUSD:20,priceB3TR:200,description:"Reusable B3TR Towel.",soldOut:!1},{id:3,name:"B3TR BEACH Cap",priceUSD:20,priceB3TR:200,description:"Sustainable fabric cap with embroidered logo.",soldOut:!1},{id:4,name:"B3TR BEACH Bucket",priceUSD:15,priceB3TR:150,description:"Recycled Polypropylene Bucket with logo.",soldOut:!1},{id:5,name:"B3TR BEACH Hoodie",priceUSD:20,priceB3TR:200,description:"Cotton hoodie with embroidered logo.",soldOut:!1},{id:6,name:"B3TR BEACH Bag",priceUSD:20,priceB3TR:200,description:"Sustainable bag with embroidered logo.",soldOut:!1}];localStorage.setItem("b3tr_products",JSON.stringify(a)),b=a,console.log("Default products set in localStorage:",a)}e(b),console.log("Products state updated to:",b)}catch(a){q("Failed to load products: "+(a instanceof Error?a.message:a)),console.error("Error loading products:",a)}let a=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&a.target.classList.add("fade-in")})},{threshold:.1});return document.querySelectorAll(".fade-content").forEach(b=>{a.observe(b)}),()=>{console.log("Cleaning up products useEffect"),a.disconnect()}},[]);let ab=async()=>{console.log("Attempting manual wallet connection");try{await F("veworld"),console.log("Manual connection attempt completed")}catch(a){console.error("Manual connection failed:",a.message)}},ac=(0,d.useCallback)(a=>{console.log("Buy Now clicked for:",JSON.stringify(a),{account:D}),a.soldOut?alert("This product is sold out!"):(i(""),g(a),x(!1),B(!1),console.log("Selected product updated to:",a,"Modal should appear now"))},[D]),ad=(0,d.useCallback)(async()=>{if(console.log("Pay with B3TR clicked:",{account:D,thor:!!H,signer:!!E,selectedProduct:JSON.stringify(f)}),!D){i("Please connect your wallet first."),console.log("Opening wallet modal for connection"),I(),await ab();return}if(!H||!E||!f){i("Error: Missing required components for transaction."),console.error("Missing requirements:",{account:D,thor:!!H,signer:!!E,selectedProduct:f}),alert("Error initiating transaction. Please try again.");return}if(!r.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())){i("Please enter a valid email address (e.g., user@example.com)."),console.error("Invalid or missing email:",r.email),alert("Please enter a valid email address (e.g., user@example.com).");return}if(!r.address||""===r.address.trim()){i("Please enter a shipping address."),console.error("Missing address:",r.address),alert("Please enter a shipping address.");return}if(V){i("Failed to fetch B3TR balance. Please try again."),console.error("B3TR balance error:",V),alert("Failed to fetch B3TR balance. Please try again.");return}if(null==U){i("B3TR balance unavailable. Please try again."),console.error("B3TR balance unavailable"),alert("B3TR balance unavailable. Please try again.");return}if(Number(U)<f.priceB3TR){i(`Insufficient B3TR balance. Required: ${f.priceB3TR}, Available: ${U}`),console.error("Insufficient B3TR balance:",{required:f.priceB3TR,available:U}),alert(`Insufficient B3TR balance. Required: ${f.priceB3TR} B3TR, Available: ${U} B3TR. Please acquire more B3TR.`);return}if(Y){i("Failed to fetch VTHO balance. Please try again."),console.error("VTHO balance error:",Y),alert("Failed to fetch VTHO balance. Please try again.");return}if(X&&1>Number(X)){i("Insufficient VTHO for gas. Please acquire more VTHO."),console.error("Insufficient VTHO:",X),alert("Insufficient VTHO for gas. Please acquire more VTHO.");return}let a={clauses:[w.Clause.callFunction(w.Address.of(R),w.ABIItem.ofSignature(w.ABIFunction,"function transfer(address to, uint256 amount) returns (bool)"),[w.Address.of(O.RECIPIENT_ADDRESS).toString(),w.Units.parseUnits(f.priceB3TR.toString(),18).toString()])],chainTag:100009,blockRef:"0x0000000000000000",expiration:32,gas:15e4,gasPriceCoef:128,nonce:Math.floor(1e9*Math.random()),dependsOn:void 0};try{if(console.log("Attempting to sign transaction with VeWorld"),await T.current.refetchB3TR(),await T.current.refetchVTHO(),Number(U)<f.priceB3TR)throw Error("Balance insufficient after refresh");let b=await E.signTransaction(a);if(console.log("Transaction signed result:",b),!b)throw Error("No transaction ID returned");o(b),console.log("Transaction sent:",b),i(`Transaction sent: ${b}. Awaiting confirmation...`),await T.current.refetchReceipt()}catch(c){let b=c.message||"Unknown error";if(b.includes("method not supported"))b="VeWorld does not support the requested transaction method. Please ensure VeWorld is updated or contact support@veworld.net.";else if(b.includes("User cancelled"))b="Transaction rejected by user.";else if(b.includes("node")||b.includes("CORS")){b="Unable to connect to VeChain node. Check network connection or try a different node URL.";try{await new Promise(a=>setTimeout(a,2e3));let b=await E.signTransaction(a);if(b){o(b),console.log("Retry Transaction sent:",b),i(`Retry Transaction sent: ${b}. Awaiting confirmation...`),await T.current.refetchReceipt();return}}catch(a){console.error("Retry failed:",a.message)}}else b.includes("Balance insufficient")&&(b=`Insufficient B3TR balance. Required: ${f.priceB3TR}, Available: ${U}. Please acquire more B3TR.`);i(`Error: ${b}`),console.error("Payment failed:",c),o(null),g(null),s({name:"",email:"",address:""}),B(!1)}},[D,H,E,f,r,V,U,Y,X,R,18,I,ab]),ae=(0,d.useCallback)(()=>{console.log("Closing modal"),g(null),i(""),o(null),s({name:"",email:"",address:""}),B(!1)},[]),af=b=>{if(b.preventDefault(),console.log("Form submitted:",j),!j.name||!j.priceUSD||!j.priceB3TR||!j.description)return void alert("Please fill in all product fields.");let c={id:null!==l?a[l].id:a.length+1,name:j.name,priceUSD:Number(j.priceUSD),priceB3TR:Number(j.priceB3TR),description:j.description,soldOut:null!==l&&a[l].soldOut},d=null!==l?a.map((a,b)=>b===l?c:a):[...a,c];localStorage.setItem("b3tr_products",JSON.stringify(d)),e(d),k({name:"",priceUSD:0,priceB3TR:0,description:"",id:0}),null!==l&&(m(null),console.log("Product updated and saved:",c)),console.log("Products state updated:",d)};return(console.log("Rendering StorePage with products:",a,"account:",D,"balanceData:",U),p)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("p",{className:"text-xl text-red-500",children:["Error: ",p]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{children:(0,b.jsx)("title",{children:"B3TR BEACH Store"})}),(0,b.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,b.jsx)("header",{className:"py-48 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/assets/AltBEACHBanner.png')",backgroundSize:"1900px 700px"},children:(0,b.jsx)("div",{className:"container mx-auto px-4 text-center bg-opacity-30 p-4",style:{backgroundColor:"rgba(0, 0, 0, 0)"},children:(0,b.jsx)("div",{className:"fade-content fade-in",children:(0,b.jsxs)("h1",{className:"text-6xl font-bold mb-4 text-outline-black text-white",children:[(0,b.jsx)("span",{className:"text-custom-blue",children:"B3TR"}),(0,b.jsx)("span",{className:"text-amber-400",children:" BEACH Store"})]})})})}),(0,b.jsx)("section",{className:"flex-grow wave-top wave-bottom min-h-[70vh] pt-16",style:{backgroundImage:"url('/assets/SeaShell.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,b.jsx)("div",{className:"container mx-auto px-4 text-center",children:(0,b.jsxs)("div",{className:"fade-content fade-in",children:[(0,b.jsx)("h2",{className:"text-4xl text-amber-400 font-bold mb-8 text-outline-black",children:"Explore B3TR Rewards"}),(0,b.jsx)("p",{className:"text-xl mb-6 text-outline-amber",children:"Redeem B3TR Tokens for exclusive B3TR BEACH merchandise. Click below to start your purchase!"}),(0,b.jsxs)("p",{className:"text-xl mb-4 text-outline-amber",children:["Wallet Status: ",D?(0,b.jsxs)("span",{className:"text-green-500 text-outline-black",children:["Connected (Network: mainnet) ",(0,b.jsx)("button",{onClick:()=>{console.log("Disconnecting wallet"),G()},className:"ml-2 bg-red-500 text-white px-2 py-1 rounded",children:"Disconnect"})]}):(0,b.jsx)("span",{className:"text-red-500",children:"Not Connected"})]}),!D&&(0,b.jsx)(v.WalletButton,{}),V&&(0,b.jsxs)("p",{className:"text-xl mb-4 text-red-500",children:["Error fetching B3TR balance: ",V.message]}),null!=U&&(0,b.jsxs)("p",{className:"text-xl mb-4",children:["B3TR Balance: ",U," ",(0,b.jsx)("span",{className:"text-custom-blue text-outline-amber",children:"B3TR"})]}),null===U&&!V&&(0,b.jsx)("p",{className:"text-xl mb-4 text-yellow-500 text-outline-amber",children:"B3TR Balance: Loading or unavailable"}),Y&&(0,b.jsxs)("p",{className:"text-xl mb-4 text-red-500",children:["Error fetching VTHO balance: ",Y.message]}),X&&(0,b.jsxs)("p",{className:"text-xl mb-4",children:["VTHO Balance: ",X," VTHO"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.length>0?a.map(a=>(0,b.jsxs)("div",{className:"bg-custom-blue p-4 rounded-lg shadow text-center relative text-outline-black",children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.name.split(" ").map((a,c)=>"BEACH"===a?(0,b.jsx)("span",{className:"text-amber-400",children:a},c):a+" ")}),(0,b.jsxs)("p",{className:"text-xl text-white",children:[a.priceB3TR," ",(0,b.jsx)("span",{className:"text-custom-blue text-outline-amber",children:"B3TR"})]}),(0,b.jsx)("p",{className:"text-xl text-white",children:a.description}),(0,b.jsx)("button",{type:"button",className:a.soldOut?"bg-red-500 text-black text-2xl font-bold px-4 py-2 rounded-lg mt-4":"bg-amber-400 text-green-500 text-2xl font-bold px-4 py-2 rounded-lg mt-4 hover:bg-black hover:text-green-500 text-outline-black",onClick:()=>!a.soldOut&&ac(a),disabled:a.soldOut,children:a.soldOut?"SOLD OUT":"Buy Now"})]},a.id)):(0,b.jsx)("p",{className:"text-xl",children:"No products available. Check console logs for details."})}),(0,b.jsx)(N.default,{href:"/",className:"bg-amber-400 text-green-500 text-2xl font-bold px-4 py-2 rounded-lg mt-4 mb-12 inline-block hover:bg-black hover:text-green-500 text-outline-black",children:"Back to Homepage"})]})})}),(0,b.jsx)("footer",{className:"bg-custom-blue py-9 text-center wave-top min-h-[15vh]",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsxs)("div",{className:"fade-content",children:[(0,b.jsxs)("p",{className:"text-xl text-amber-400 text-outline-blue mb-4",children:[" ",new Date().getFullYear()," ",(0,b.jsx)("span",{className:"text-black",children:"B3TR"})," BEACH. All rights reserved."]}),(0,b.jsxs)("div",{className:"flex justify-center space-x-6",children:[(0,b.jsx)(N.default,{href:"#",className:"text-white hover:text-green-500",children:"Privacy Policy"}),(0,b.jsx)(N.default,{href:"#",className:"text-white hover:text-green-500",children:"Terms of Service"}),(0,b.jsx)(N.default,{href:"#",className:"text-white hover:text-green-500",onClick:()=>{console.log("Manage Products clicked, showing password prompt");let a=prompt("Please enter the password to manage products:");a===Q?(z(!0),console.log("Password correct, showing manage form")):null!==a&&(alert("Incorrect password. Please try again."),console.log("Incorrect password entered"))},children:"Manage Products"}),(0,b.jsx)(N.default,{href:"#",className:"text-white hover:text-green-500",onClick:()=>{console.log("View Tx clicked, showing password prompt");let a=prompt("Please enter the password to view transactions:");a===Q?(window.location.href="/transactions",console.log("Password correct, navigating to /transactions")):null!==a&&(alert("Incorrect password. Please try again."),console.log("Incorrect password entered for View Tx"))},children:"View Tx"}),(0,b.jsx)(N.default,{href:"mailto:support@b3trbeach.org",className:"text-white hover:text-green-500",children:"Contact Us"})]})]})})}),y&&null===l&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Manage Products - Add New"}),(0,b.jsxs)("form",{onSubmit:af,children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Name"}),(0,b.jsx)("input",{type:"text",name:"name",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.name,onChange:a=>k({...j,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Price (USD)"}),(0,b.jsx)("input",{type:"number",name:"priceUSD",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.priceUSD,onChange:a=>k({...j,priceUSD:Number(a.target.value)}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Price (B3TR)"}),(0,b.jsx)("input",{type:"number",name:"priceB3TR",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.priceB3TR,onChange:a=>k({...j,priceB3TR:Number(a.target.value)}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Description"}),(0,b.jsx)("textarea",{name:"description",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.description,onChange:a=>k({...j,description:a.target.value}),required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"bg-amber-400 text-green-500 px-4 py-2 rounded-lg font-bold hover:bg-black hover:text-green-500",children:"Add Product"}),(0,b.jsx)("button",{type:"button",className:"bg-gray-400 text-red-500 px-4 py-2 rounded-lg font-bold ml-2 hover:bg-red-600 hover:text-white",onClick:()=>z(!1),children:"Cancel"})]}),(0,b.jsx)("h4",{className:"text-xl font-semibold mt-6 mb-4",children:"Existing Products"}),(0,b.jsx)("ul",{className:"list-disc pl-5",children:a.map((c,d)=>(0,b.jsxs)("li",{className:"mb-2",children:[c.name," - $",c.priceUSD," ($",c.priceB3TR," B3TR)",(0,b.jsx)("button",{className:"bg-amber-400 text-green-500 px-2 py-1 rounded-lg ml-2 hover:bg-black hover:text-green-500",onClick:()=>(b=>{console.log("Edit product:",b,JSON.stringify(a[b]));let c=a[b];k({name:c.name,priceUSD:c.priceUSD,priceB3TR:c.priceB3TR,description:c.description,id:c.id}),m(b),z(!0)})(d),children:"Edit"}),(0,b.jsx)("button",{className:"bg-red-500 text-white px-2 py-1 rounded-lg ml-2 hover:bg-red-600",onClick:()=>(b=>{if(console.log("Delete product:",b,JSON.stringify(a[b])),window.confirm(`Are you sure you want to delete the product "${a[b].name}"?`)){let c=a.filter((a,c)=>c!==b);localStorage.setItem("b3tr_products",JSON.stringify(c)),e(c),console.log(`Deleted product ${a[b].name}`)}})(d),children:"Delete"}),(0,b.jsx)("button",{className:`ml-2 px-2 py-1 rounded-lg ${c.soldOut?"bg-red-500 text-white":"bg-green-500 text-white"} hover:${c.soldOut?"bg-red-600":"bg-green-600"}`,onClick:()=>(b=>{console.log("Toggling sold out for product at index:",b);let c=[...a];c[b].soldOut=!c[b].soldOut,localStorage.setItem("b3tr_products",JSON.stringify(c)),e(c),console.log("Products updated with soldOut:",c)})(d),children:c.soldOut?"In Stock":"Sold Out"})]},c.id))})]})}),y&&null!==l&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Manage Products - Edit"}),(0,b.jsxs)("form",{onSubmit:af,children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Name"}),(0,b.jsx)("input",{type:"text",name:"name",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.name,onChange:a=>k({...j,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Price (USD)"}),(0,b.jsx)("input",{type:"number",name:"priceUSD",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.priceUSD,onChange:a=>k({...j,priceUSD:Number(a.target.value)}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Price (B3TR)"}),(0,b.jsx)("input",{type:"number",name:"priceB3TR",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.priceB3TR,onChange:a=>k({...j,priceB3TR:Number(a.target.value)}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-lg font-semibold",children:"Description"}),(0,b.jsx)("textarea",{name:"description",className:"w-full p-2 border border-gray-300 rounded-lg",value:j.description,onChange:a=>k({...j,description:a.target.value}),required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"bg-amber-400 text-green-500 px-4 py-2 rounded-lg font-bold hover:bg-black hover:text-green-500",children:"Save Changes"}),(0,b.jsx)("button",{type:"button",className:"bg-gray-400 text-red-500 px-4 py-2 rounded-lg font-bold ml-2 hover:bg-red-600 hover:text-white",onClick:()=>z(!1),children:"Cancel"})]})]})}),t&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4 text-center overflow-auto",children:(0,b.jsx)(M.default,{txId:n,onClose:()=>x(!1)})})}),f&&!A&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4 text-center",children:(0,b.jsx)(L,{selectedProduct:f,userDetails:r,setUserDetails:s,paymentStatus:h,account:D,formRef:C,handleB3TRPayment:ad,openWalletModal:I,closeModal:ae})})}),n&&(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-3/4 text-center",children:(0,b.jsx)(K,{txId:n,status:$?$.reverted?"reverted":"success":"pending",onClose:ae})})})]})]})}}];

//# sourceMappingURL=B3TR%20BEACH_b3tr-beach-next_5e62454e._.js.map